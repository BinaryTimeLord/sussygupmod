### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}
### search_filters = {FOCUS_FILTER_SOV_POLITICAL_PARANOIA}
### search_filters = {FOCUS_FILTER_PROPAGANDA}
### search_filters = {FOCUS_FILTER_ARMY_XP}
### search_filters = {FOCUS_FILTER_NAVY_XP}
### search_filters = {FOCUS_FILTER_AIR_XP}
# Reminder that focus filters prio has to be handled in the generic focus file :

focus_tree = {
	id = soviet_focus

	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = SOV
		}
	}
	
	default = no

	continuous_focus_position = { x = 55 y = 1500 }


	##MILITARY BRANCH
		focus = {
		id = SOV_purge_third_years
		icon = GFX_purge_third_years

		available = {
			
		}
		x = 10
		y = 0
		cost = 5
		completion_reward = {
				add_political_power = -100
				add_ideas = PRV_crippled_officer_corp
			}
		}

	 ##LAND BRANCH 
	 	focus = {
		id = SOV_reappoint_ministers
		icon = GFX_reappoint_ministers

		prerequisite = {
			focus = SOV_purge_third_years
		}

		available = {
			
		}
		relative_position_id = SOV_purge_third_years
		x = -6
		y = 1
		cost = 5
		completion_reward = {
			swap_ideas = {
				remove_idea = PRV_crippled_officer_corp
				add_idea = PRV_crippled_officer_corp2
				}
			}
		}

		focus = {
		id = SOV_form_vdv
		icon = GFX_form_vdv

		prerequisite = {
			focus = SOV_reappoint_ministers
		}

		available = {
			
		}
		relative_position_id = SOV_reappoint_ministers
		x = 2
		y = 0
		cost = 5
		completion_reward = {
			
			}
		}

		focus = {
		id = SOV_expand_pioneer
		icon = GFX_expand_pioneers

		prerequisite = {
			focus = SOV_reappoint_ministers
		}

		available = {
			
		}
		relative_position_id = SOV_reappoint_ministers
		x = -2
		y = 1
		cost = 5
		completion_reward = {
				add_ideas = PRV_pravda_pioneers
			}
		}

		focus = {
		id = SOV_women_gunners
		icon = GFX_women_gunners

		prerequisite = {
			focus = SOV_expand_pioneer
		}

		available = {
			
		}
		relative_position_id = SOV_expand_pioneer
		x = 0
		y = 1
		cost = 5
		completion_reward = {
				add_ideas = PRV_auxiliary_units
			}
		}
		
		focus = {
		id = SOV_training_priorities
		icon = GFX_training_priorities

		prerequisite = {
			focus = SOV_reappoint_ministers
		}

		available = {
			
		}
		relative_position_id = SOV_reappoint_ministers
		x = 0
		y = 1
		cost = 5
		completion_reward = {
				unlock_decision_tooltip = PRV_training_decisions
			}
		}

		focus = {
		id = SOV_officer_camps
		icon = GFX_focus_generic_military_academy

		prerequisite = {
			focus = SOV_training_priorities
		}

		available = {
			
		}
		relative_position_id = SOV_training_priorities
		x = 0
		y = 1
		cost = 5
		completion_reward = {
				army_experience = 30
				swap_ideas = {
					remove_idea = PRV_crippled_officer_corp2
					add_idea = PRV_crippled_officer_corp3
				}
			}
		}

		focus = {
		id = SOV_naval_inf
		icon = GFX_naval_inf_1

		prerequisite = {
			focus = SOV_reappoint_ministers
		}

		available = {
			
		}
		relative_position_id = SOV_reappoint_ministers
		x = 2
		y = 1
		cost = 5
		completion_reward = {
			division_template = {
					name = "Pravda Naval Infantry"
					is_locked = yes
					division_names_group = SOV_INF_01
					priority = 0
					regiments = {
						marine = {x = 0 y = 0}
						marine = {x = 0 y = 1}
						marine = {x = 0 y = 2}
						marine = {x = 0 y = 3}
					}
				}
			}
		}

		focus = {
		id = SOV_navalinf_dev
		icon = GFX_naval_inf_2

		prerequisite = {
			focus = SOV_naval_inf
		}

		available = {
			
		}
		relative_position_id = SOV_naval_inf
		x = 0
		y = 1
		cost = 5
		completion_reward = {
			137 = {
					create_unit = {
						division = "division_template = \"Pravda Naval Infantry\" start_experience_factor = 1 start_equipment_factor = 1 start_manpower_factor = 1"
						owner = SOV
						count = 5
					}
				}
			}
		}

		focus = {
		id = SOV_radio_effort
		icon = GFX_focus_generic_radio_communication

		prerequisite = {
			focus = SOV_navalinf_dev
		}

		prerequisite = {
			focus = SOV_women_gunners
		}

		prerequisite = {
			focus = SOV_officer_camps
		}

		available = {

		}
		relative_position_id = SOV_officer_camps
		x = 0
		y = 1
		cost = 5
		completion_reward = {
				set_technology = {
					radio = 1
				}
			}
		}

		focus = {
		id = SOV_army_confidence
		icon = GFX_army_confidence

		prerequisite = {
			focus = SOV_radio_effort
		}

		available = {
			
		}
		relative_position_id = SOV_radio_effort
		x = 0
		y = 1
		cost = 5
		completion_reward = {

			swap_ideas = {
				remove_idea = PRV_crippled_officer_corp3
				add_idea = PRV_restored_corp
				}

				
			}
		}

	 ##AIR BRANCH
		focus = {
		id = SOV_training_maintenance
		icon = GFX_goal_generic_air_production

		prerequisite = {
			focus = SOV_purge_third_years
		}

		available = {
			
		}
		relative_position_id = SOV_purge_third_years
		x = 0
		y = 1
		cost = 5
		completion_reward = {
			add_ideas = PRV_grounded_air
			}
		}

		focus = {
		id = SOV_standard_maintenance
		icon = GFX_focus_generic_copy_plane_designs

		prerequisite = {
			focus = SOV_training_maintenance
		}

		available = {
			
		}
		relative_position_id = SOV_training_maintenance
		x = 0
		y = 1
		cost = 5
		completion_reward = {
			
			}
		}

		focus = {
		id = SOV_expanded_program
		icon = GFX_SOV_found_the_jet_institute_ccp_2d_sov_compatibility

		prerequisite = {
			focus = SOV_standard_maintenance
		}

		available = {
			
		}
		relative_position_id = SOV_standard_maintenance
		x = 0
		y = 1
		cost = 5
		completion_reward = {
			
			}
		}

		focus = {
		id = SOV_unground_airforce
		icon = GFX_focus_generic_air_bases

		prerequisite = {
			focus = SOV_expanded_program
		}

		available = {
			
		}
		relative_position_id = SOV_expanded_program
		x = 0
		y = 1
		cost = 5
		completion_reward = {
			
			}
		}

		focus = {
		id = SOV_fighter_adventurers
		icon = GFX_goal_generic_air_fighter2

		prerequisite = {
			focus = SOV_training_maintenance
		}

		available = {
			
		}
		relative_position_id = SOV_training_maintenance
		x = -2
		y = 1
		cost = 5
		completion_reward = {
			
			}
		}

		focus = {
		id = SOV_aviation_manufacturing
		icon = GFX_goal_generic_construct_mil_factory

		prerequisite = {
			focus = SOV_fighter_adventurers
		}

		available = {
			
		}
		relative_position_id = SOV_unground_airforce
		x = -2
		y = 0
		cost = 5
		completion_reward = {
			653 = {
			add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = arms_factory
						level = 5
						instant_build = yes
					}
			}
		}
		}

		focus = {
		id = SOV_heavy_manufacturing
		icon = GFX_focus_generic_aircraft_production

		prerequisite = {
			focus = SOV_training_maintenance
		}

		available = {
			
		}
		relative_position_id = SOV_training_maintenance
		x = 2
		y = 1
		cost = 5
		completion_reward = {
			
			}
		}

		focus = {
		id = SOV_auxilary_development
		icon = GFX_focus_generic_air_research_boost

		prerequisite = {
			focus = SOV_heavy_manufacturing
		}

		available = {
			
		}
		relative_position_id = SOV_unground_airforce
		x = 2
		y = 0
		cost = 5
		completion_reward = {
			
			}
		}

		focus = {
		id = SOV_modern_airforce
		icon = GFX_focus_PER_the_peoples_airforce

		prerequisite = {
			focus = SOV_auxilary_development
		}
		prerequisite = {
			focus = SOV_unground_airforce
		}
		prerequisite = {
			focus = SOV_aviation_manufacturing
		}

		available = {
			
		}
		relative_position_id = SOV_unground_airforce
		x = 0
		y = 1
		cost = 5
		completion_reward = {
			
			}
		}

	 ##NAVY BRANCH
	 	focus = {
		id = SOV_underfunded_navy
		icon = GFX_focus_POL_develop_polish_shipbuilding

		prerequisite = {
			focus = SOV_purge_third_years
		}

		available = {
			
		}
		relative_position_id = SOV_purge_third_years
		x = 6
		y = 1
		cost = 5
		completion_reward = {
			
			}
		}

		focus = {
		id = SOV_naval_buildup
		icon = GFX_focus_generic_refit_civilian_ships

		prerequisite = {
			focus = SOV_underfunded_navy
		}

		available = {
			
		}
		relative_position_id = SOV_underfunded_navy
		x = 0
		y = 1
		cost = 5
		completion_reward = {
			
			}
		}

		focus = {
		id = SOV_battleship_priority
		icon = GFX_focus_generic_navy_battleship2

		mutually_exclusive = {
			focus = SOV_lcruiser_priority
			focus = SOV_carrier_priority
		}
		prerequisite = {
			focus = SOV_naval_buildup
		}

		available = {
			
		}
		relative_position_id = SOV_naval_buildup
		x = 0
		y = 1
		cost = 5
		completion_reward = {
			
			}
		}

		focus = {
		id = SOV_lcruiser_priority
		icon = GFX_focus_generic_cruiser2

		mutually_exclusive = {
			focus = SOV_battleship_priority
			focus = SOV_carrier_priority
		}
		prerequisite = {
			focus = SOV_naval_buildup
		}

		available = {
			
		}
		relative_position_id = SOV_naval_buildup
		x = -2
		y = 1
		cost = 5
		completion_reward = {
			
			}
		}

		focus = {
		id = SOV_carrier_priority
		icon = GFX_goal_generic_navy_carrier

		mutually_exclusive = {
			focus = SOV_lcruiser_priority
			focus = SOV_battleship_priority
		}
		prerequisite = {
			focus = SOV_naval_buildup
		}

		available = {
			
		}
		relative_position_id = SOV_naval_buildup
		x = 2
		y = 1
		cost = 5
		completion_reward = {
			
			}
		}

		focus = {
		id = SOV_mandatory_regiments
		icon = GFX_focus_generic_naval_discipline

		prerequisite = {
			focus = SOV_lcruiser_priority
			focus = SOV_battleship_priority
			focus = SOV_carrier_priority
		}

		available = {
			
		}
		relative_position_id = SOV_battleship_priority
		x = 0
		y = 1
		cost = 5
		completion_reward = {
			
			}
		}

		focus = {
		id = SOV_grand_navy
		icon = GFX_focus_PER_the_peoples_navy

		prerequisite = {
			focus = SOV_mandatory_regiments
		}

		available = {
			
		}
		relative_position_id = SOV_mandatory_regiments
		x = 0
		y = 1
		cost = 5
		completion_reward = {
			
			}
		}

		focus = {
			id = SOV_complete_5_year
			icon = GFX_focus_generic_communist_industry

			available = {
				always = no
			}
			x = 30
			y = 0
			cost = 5
			completion_reward = {
				add_stability = 0.1
				#remove_ideas =   #Please someone find what key does 5 year plan have
			}
			bypass = {
				has_country_flag = 5_year_x
			}
		}
		focus = {
			id = SOV_literacy_campaign
			icon = GFX_focus_NOR_moscows_education_centers

			prerequisite = {
				focus = SOV_complete_5_year
			}
			available = {
				
			}
			relative_position_id = SOV_complete_5_year
			x = 0
			y = 1
			cost = 5
			completion_reward = {
				add_political_power = 100
				add_stability =0.02
				add_tech_bonus = {
					bonus = 1
					uses = 2
					category = electronics
				}
			}
		}
		focus = {
			id = SOV_trans_siberian
			icon = GFX_focus_generic_railroad

			prerequisite = {
				focus = SOV_literacy_campaign
			}
			available = {
				has_equipment = {
					train_equipment > 39
				}
			}
			relative_position_id = SOV_literacy_campaign
			x = 0
			y = 1
			cost = 5
			completion_reward = {
				build_railway = {
					level = 1
					path = { 10696 12679 1297 1733 1860 7825 7274 4866 7757 12631 7886 10712 10639 12691 12621 1876 1813 10549 10661 12540 4797 1762 4837 10528 4766 12507 7860 10683 7786 4677 7725 10559 12543 7851 10678 12657 7763 4725 10655 7801 12678 12261 4805 12189 10466 11643 6686 664 6684 11750 6989 957 }
					start_province = 10696
					target_province = 957
				}
				408 = {
					add_resource = {
						type = steel
						amount = 16
					}
				}
			}
		}
		focus = {
			id = SOV_develop_grozny_fields
			icon = GFX_goal_generic_oil_refinery

			prerequisite = {
				focus = SOV_trans_siberian
			}
			available = {
				
			}
			relative_position_id = SOV_trans_siberian
			x = -9
			y = 1
			cost = 5
			completion_reward = {
				add_tech_bonus = {
					bonus = 0.5
					uses = 2
					category = synth_resources
				}
				821 = {
					add_resource = {
						type = oil
						amount = 16
					}
				}
				229 = {
					add_resource = {
						type = oil
						amount = 16
					}
				}
				232 = {
					add_resource = {
						type = oil
						amount = 16
					}
				}
			}
		}
		focus = {
			id = SOV_siberian_exports
			icon = GFX_goal_generic_trade

			prerequisite = {
				focus = SOV_develop_grozny_fields
			}
			available = {
				
			}
			relative_position_id = SOV_develop_grozny_fields
			x = -1
			y = 1
			cost = 5
			completion_reward = {
				add_ideas = PRV_exports1
			}
		}
		focus = {
			id = SOV_expanding_synthetic
			icon = GFX_focus_PER_increase_oil_sales

			prerequisite = {
				focus = SOV_develop_grozny_fields
			}
			available = {
				
			}
			relative_position_id = SOV_develop_grozny_fields
			x = 1
			y = 1
			cost = 5
			completion_reward = {
				248 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = synthetic_refinery
						level = 2
						instant_build = yes
					}
				}
			}
		}
		focus = {
			id = SOV_expanded_refinement
			icon = GFX_focus_generic_stockpile_fuel

			prerequisite = {
				focus = SOV_expanding_synthetic
			}
			prerequisite = {
				focus = SOV_siberian_exports
			}
			available = {
				
			}
			relative_position_id = SOV_develop_grozny_fields
			x = 0
			y = 2
			cost = 5
			completion_reward = {
				590 = {
					add_resource = {
						type = oil
						amount = 10
					}
				}
			}
		}
		focus = {
			id = SOV_the_oil_must_flow
			icon = GFX_focus_PER_invite_oil_nations

			prerequisite = {
				focus = SOV_expanded_refinement
			}
			available = {
				
			}
			relative_position_id = SOV_expanded_refinement
			x = 0
			y = 1
			cost = 5
			completion_reward = {
				swap_ideas = {
					remove_idea = PRV_exports1
					add_idea = PRV_exports2
				}
			}
		}
		focus = {
			id = SOV_expanding_resettlement
			icon = GFX_focus_generic_low_cost_housing

			prerequisite = {
				focus = SOV_trans_siberian
			}
			available = {
				
			}
			relative_position_id = SOV_trans_siberian
			x = -3
			y = 1
			cost = 5
			completion_reward = {
				226 = {
					set_state_category = urban
				}
				408 = {
					set_state_category = urban
				}
				241 = {
					set_state_category = urban
				}
				204 = {
					set_state_category = urban
				}
				201 = {
					set_state_category = urban
				}
				563 = {
					set_state_category = urban
				}
			}
		}
		focus = {
			id = SOV_katyusha_tractor
			icon = GFX_focus_generic_farmland

			prerequisite = {
				focus = SOV_expanding_resettlement
			}
			available = {
				
			}
			relative_position_id = SOV_expanding_resettlement
			x = -3
			y = 1
			cost = 5
			completion_reward = {
				217 = {
					add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = industrial_complex
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
		}
		focus = {
			id = SOV_expanding_GAZ
			icon = GFX_focus_generic_military_industry

			prerequisite = {
				focus = SOV_expanding_resettlement
			}
			available = {
				
			}
			relative_position_id = SOV_expanding_resettlement
			x = -1
			y = 1
			cost = 5
			completion_reward = {
				195 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				add_tech_bonus = {
					bonus = 1
					uses = 1
					category = motorized_equipment
				}
			}
		}
		focus = {
			id = SOV_modernize_agriculture
			icon = GFX_focus_generic_agricultural_subsidies

			prerequisite = {
				focus = SOV_expanding_resettlement
			}
			available = {
				
			}
			select_effect = {
				set_variable = {
					name = uncancellable_focus
					value = yes
				}
			}
			relative_position_id = SOV_expanding_resettlement
			x = 1
			y = 1
			cost = 14.4
			completion_reward = {
					if = {
						limit = {
							has_idea = PRV_famines1
						}
						swap_ideas = {
							remove_idea = PRV_famines1
							add_idea = PRV_famines2
						}
					}
					else = {
						remove_ideas = PRV_famines2
					}
				
			}
		}
		focus = {
			id = SOV_import_technical_experts
			icon = GFX_focus_generic_whispers

			prerequisite = {
				focus = SOV_expanding_resettlement
			}
			available = {

			}
			relative_position_id = SOV_expanding_resettlement
			x = 3
			y = 1
			cost = 5
			completion_reward = {
				swap_ideas = {
					remove_idea = PRV_outdated_industry1
					add_idea = PRV_outdated_industry2
				}
			}
		}
		focus = {
			id = SOV_new_3_year
			icon = GFX_focus_prc_agrarian_socialism

			prerequisite = {
				focus = SOV_import_technical_experts
			}
			prerequisite = {
				focus = SOV_katyusha_tractor
			}
			prerequisite = {
				focus = SOV_expanding_GAZ
			}
			prerequisite = {
				focus = SOV_modernize_agriculture
			}
			available = {

			}
			relative_position_id = SOV_expanding_resettlement
			x = 0
			y = 2
			cost = 10
			completion_reward = {
				swap_ideas = {
					remove_idea = PRV_outdated_industry2
					add_idea = PRV_outdated_industry3
				}
			}
		}
		focus = {
			id = SOV_power_to_the_workers
			icon = GFX_focus_generic_workers

			prerequisite = {
				focus = SOV_trans_siberian
			}
			available = {

			}
			relative_position_id = SOV_trans_siberian
			x = 4
			y = 1
			cost = 5
			completion_reward = {
				custom_effect_tooltip = "Will unlock propaganda decisions"
			}
		}
		focus = {
			id = SOV_expand_communist_education
			icon = GFX_focus_NOR_moscows_education_centers

			prerequisite = {
				focus = SOV_power_to_the_workers
			}
			available = {

			}
			relative_position_id = SOV_power_to_the_workers
			x = 0
			y = 1
			cost = 5
			completion_reward = {
				add_stability = 0.02
				add_ideas = PRV_communist_education
			}
		}
		focus = {
			id = SOV_katyushagrad_university
			icon = GFX_focus_generic_university_1

			prerequisite = {
				focus = SOV_power_to_the_workers
			}
			available = {

			}
			relative_position_id = SOV_power_to_the_workers
			x = -2
			y = 1
			cost = 10
			completion_reward = {
				add_research_slot = 1
			}
		}
		focus = {
			id = SOV_vladivostok_naval_academy
			icon = GFX_focus_generic_military_academy

			prerequisite = {
				focus = SOV_power_to_the_workers
			}
			available = {

			}
			relative_position_id = SOV_power_to_the_workers
			x = 2
			y = 1
			cost = 5
			completion_reward = {
				add_tech_bonus = {
					bonus = 1
					uses = 2
					category = naval_equipment
				}
				navy_experience = 100
			}
		}
		focus = {
			id = SOV_modern_soviet
			icon = GFX_goal_support_communism

			prerequisite = {
				focus = SOV_expand_communist_education
			}
			available = {
				num_of_civilian_factories > 99
			}
			relative_position_id = SOV_expand_communist_education
			x = 0
			y = 1
			cost = 5
			completion_reward = {
				remove_ideas = PRV_illiteracy
			}
		}
		focus = {
			id = SOV_katyusha_rockets
			icon = GFX_focus_rocketry

			prerequisite = {
				focus = SOV_modern_soviet
			}
			available = {

			}
			relative_position_id = SOV_modern_soviet
			x = -2
			y = 1
			cost = 5
			completion_reward = {
				add_breakthrough_points = {
					specialization = specialization_air
					value = 2
				}
				set_technology = {
					rocket_artillery = 1
					motorized_rocket_unit = 1
				}
				set_technology = motorized_equipment
				add_ideas = PRV_rockets
			}
		}
		focus = {
			id = SOV_palace_revolution
			icon = GFX_focus_generic_spur_communist_revolutions

			prerequisite = {
				focus = SOV_modern_soviet
			}
			available = {
				num_of_civilian_factories > 199
			}
			relative_position_id = SOV_modern_soviet
			x = 0
			y = 1
			cost = 5
			completion_reward = {
				unlock_decision_tooltip = PVD_palace
			}
		}
		focus = {
			id = SOV_weapons_development
			icon = GFX_goal_generic_army_artillery

			prerequisite = {
				focus = SOV_modern_soviet
			}
			available = {

			}
			relative_position_id = SOV_modern_soviet
			x = 2
			y = 1
			cost = 5
			completion_reward = {
				add_research_slot = 1
				566 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = land_facility
						level = 1
						instant_build = yes
						province = 4797
					}
				}
				409 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = air_facility
						level = 1
						instant_build = yes
						province = 409
					}
				}
			}
		}
		focus = {
			id = SOV_aggressive_industrial_expansion
			icon = GFX_focus_generic_industry_1

			prerequisite = {
				focus = SOV_trans_siberian
			}
			available = {
				has_completed_focus = SOV_new_3_year
			}
			relative_position_id = SOV_trans_siberian
			x = 10
			y = 1
			cost = 5
			completion_reward = {
				add_tech_bonus = {
					bonus = 1
					uses = 2
					category = industry
				}
			}
		}
		focus = {
			id = SOV_collective_expansion
			icon = GFX_focus_generic_modernize_industry

			prerequisite = {
				focus = SOV_aggressive_industrial_expansion
			}
			available = {

			}
			relative_position_id = SOV_aggressive_industrial_expansion
			x = 0
			y = 1
			cost = 14.3
			completion_reward = {
				unlock_decision_tooltip = PVD_collective_expansion
			}
		}
		focus = {
			id = SOV_develop_east
			icon = GFX_focus_SWE_urbanization

			prerequisite = {
				focus = SOV_aggressive_industrial_expansion
			}
			available = {

			}
			relative_position_id = SOV_aggressive_industrial_expansion
			x = -2
			y = 1
			cost = 5
			completion_reward = {
				574 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				576 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				516 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
		focus = {
			id = SOV_expand_vladivostok_arctic
			icon = GFX_goal_generic_construct_naval_dockyard

			prerequisite = {
				focus = SOV_develop_east
			}
			available = {

			}
			relative_position_id = SOV_develop_east
			x = 0
			y = 1
			cost = 5
			completion_reward = {
				add_equipment_to_stockpile = {
					type = convoy_1
					amount = 100
					producer = SOV
				}
				408 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
		}
		focus = {
			id = SOV_end_peacetime_rationing
			icon = GFX_focus_SWE_rations

			prerequisite = {
				focus = SOV_collective_expansion
			}
			available = {

			}
			relative_position_id = SOV_collective_expansion
			x = 0
			y = 1
			cost = 5
			completion_reward = {
				if = {
					limit = {
						has_idea = PRV_famines1
					}
					swap_ideas = {
						remove_idea = PRV_famines1
						add_idea = PRV_famines2
					}
				}
				else = {
					remove_ideas = PRV_famines2
				}
			}
		}
		focus = {
			id = SOV_land_clearances
			icon = GFX_focus_SWE_hygienic_housing

			prerequisite = {
				focus = SOV_aggressive_industrial_expansion
			}
			available = {

			}
			relative_position_id = SOV_aggressive_industrial_expansion
			x = 2
			y = 1
			cost = 5
			completion_reward = {
				every_owned_state = {
					add_extra_state_shared_building_slots = 2
				}
				213 = {
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
		}
		focus = {
			id = SOV_Great_Liberation_Mobilization
			icon = GFX_focus_generic_spur_communist_revolutions

			available = {
				any_enemy_country = {
					is_major = yes
				}
			}
			x = 50
			y = 0
			cost = 5
			completion_reward = {
				if = {
                    limit = {
                        NOT = {
                            has_idea = tot_economic_mobilisation
                        }
                    }
                    add_ideas = tot_economic_mobilisation
					country_event = {
						id = prv_lib.1
						hours = 3
					}
                }
			}
		}
		focus = {
			id = SOV_like_waves
			icon = GFX_focus_SOV_builder_of_the_red_army

			prerequisite = {
				focus = SOV_Great_Liberation_Mobilization
			}
			available = {

			}
			relative_position_id = SOV_Great_Liberation_Mobilization
			x = -6
			y = 1

			cost = 5
			completion_reward = {
				219 = {
					add_building_construction = {
					type = bunker
					level = 5
					instant_build = yes
					province = 6380
					}
				}
				206 = {
					add_building_construction = {
					type = bunker
					level = 5
					instant_build = yes
					province = 11370
					}
				}
				195 = {
					add_building_construction = {
					type = bunker
					level = 5
					instant_build = yes
					province = 3151
					}
				}
				137 = {
					add_building_construction = {
					type = bunker
					level = 5
					instant_build = yes
					province = 3686
					}
				}
				202 = {
					add_building_construction = {
					type = bunker
					level = 5
					instant_build = yes
					province = 525
					}
				}
				217 = {
					add_building_construction = {
					type = bunker
					level = 5
					instant_build = yes
					province = 3529
					}
				}
			}
		}
		focus = {
			id = SOV_Emergency_Uni_Mob
			icon = GFX_focus_SOV_mobilization_plan

			prerequisite = {
				focus = SOV_Great_Liberation_Mobilization
			}
			available = {

			}
			relative_position_id = SOV_Great_Liberation_Mobilization
			x = -4
			y = 1

			cost = 5
			completion_reward = {
				add_manpower = 100000
				add_research_slot = 1
				army_experience = 30
			}
		}
		focus = {
			id = SOV_Mobilize_First_Years
			icon = GFX_focus_SOV_mobilization_plan

			prerequisite = {
				focus = SOV_Emergency_Uni_Mob
			}
			available = {

			}
			relative_position_id = SOV_Emergency_Uni_Mob
			x = 0
			y = 1

			cost = 5
			completion_reward = {
				add_ideas = SOV_first_year_mob
			}
		}
		focus = {
			id = SOV_First_Year_Reserve
			icon = GFX_focus_SOV_mobilization_plan

			prerequisite = {
				focus = SOV_Great_Liberation_Mobilization
			}
			available = {

			}
			relative_position_id = SOV_Great_Liberation_Mobilization
			x = 4
			y = 1

			cost = 5
			completion_reward = {

			}
		}
		focus = {
			id = SOV_Nonna_Temporary
			icon = GFX_focus_generic_military_mission

			prerequisite = {
				focus = SOV_Great_Liberation_Mobilization
			}
			available = {

			}
			relative_position_id = SOV_Great_Liberation_Mobilization
			x = 0
			y = 1

			cost = 5
			completion_reward = {
				add_stability = 0.2
				add_war_support = 0.2
				add_ideas = SOV_Nonna_Temp
			}
		}
		focus = {
			id = SOV_Hold_Fast
			icon = GFX_focus_SOV_builder_of_the_red_army

			prerequisite = {
				focus = SOV_Nonna_Temporary
			}
			available = {

			}
			relative_position_id = SOV_Nonna_Temporary
			x = 0
			y = 1

			cost = 5
			completion_reward = {
				if = {
					limit = {
						has_idea = PRV_bad_army1
					}
					swap_ideas = {
						remove_idea = PRV_bad_army1
						add_idea = PRV_bad_army2
					}
				}
				hidden_effect = {
					country_event = {
						id = prv_bda.1
						days = 60
					}
				}
			}
		}
		focus = {
			id = SOV_Student_Guard	
			icon = GFX_SOV_the_new_soviet_woman_ccp_2d_sov_compatibility

			prerequisite = {
				focus = SOV_Hold_Fast
			}
			mutually_exclusive = {
				focus = SOV_Curtail_Student_Guard
			}
			available = {

			}
			relative_position_id = SOV_Hold_Fast
			x = -2
			y = 1

			cost = 5
			completion_reward = {

			}
		}
		focus = {
			id = SOV_Curtail_Student_Guard
			icon = GFX_focus_GER_end_european_communism

			prerequisite = {
				focus = SOV_Hold_Fast
			}
			mutually_exclusive = {
				focus = SOV_Student_Guard
			}
			available = {

			}
			relative_position_id = SOV_Hold_Fast
			x = 0
			y = 1

			cost = 5
			completion_reward = {

			}
		}
		focus = {
			id = SOV_Student_Punishment
			icon = GFX_focus_SOV_penal_battalions

			prerequisite = {
				focus = SOV_Hold_Fast
			}
			available = {

			}
			relative_position_id = SOV_Hold_Fast
			x = 2
			y = 1

			cost = 5
			completion_reward = {

			}
		}
	##POLITICAL BRANCH
	focus = {
		id = SOV_the_comintern
		icon = GFX_goal_support_communism
		prerequisite = { focus = SOV_the_path_of_marxism_leninism }
		x = 80
		y = 0
		relative_position_id = SOV_addressing_internal_affairs
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_political_power = 50
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
		}
	}

	focus = {
		id = SOV_development_aid_for_eastern_allies
		icon = GFX_SOV_development_aid_for_eastern_allies_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_the_comintern }
		x = -5
		y = 1
		relative_position_id = SOV_the_comintern
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}

		available = {
			any_allied_country = {
				capital_scope = { is_on_continent = asia }
				is_major = no
			}
			num_of_civilian_factories_available_for_projects > 2
			is_subject = no
		}
		
		search_filters = {}

		select_effect = {
			add_ideas = SOV_development_of_eastern_allies
		}

		completion_reward = {
			#Tooltip purposes (Select Effect)
			custom_effect_tooltip = SOV_focus_select_effect_tt
			effect_tooltip = {
				add_ideas = SOV_development_of_eastern_allies
			}

			#(Complete Effect)
			custom_effect_tooltip = SOV_focus_complete_effect_tt
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					capital_scope = { is_on_continent = asia }
					is_major = no
				}
				country_event = { id = NSB_soviet_foreign_politics_events.10 hours = 2 random_hours = 1 }
				custom_effect_tooltip = if_they_accept
				custom_effect_tooltip = SOV_development_aid_for_eastern_allies_tt
			}
			hidden_effect = {
				remove_ideas = SOV_development_of_eastern_allies
			}
		}
	}

	focus = {
		id = SOV_war_measures_in_the_east
		icon = GFX_SOV_war_measures_in_the_east_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_development_aid_for_eastern_allies }
		x = 0
		y = 1
		relative_position_id = SOV_development_aid_for_eastern_allies
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}

		available = {
			is_subject = no
		}
		
		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = SOV_war_measures_scope_tt
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					capital_scope = { is_on_continent = asia }
					is_major = no
				}
				country_event = { id = NSB_soviet_foreign_politics_events.11 hours = 2 random_hours = 1 }
				custom_effect_tooltip = if_they_accept
				effect_tooltip = {
					add_timed_idea = { idea = SOV_war_measures_allies days = 1095 }
				}
			}
		}
	}

	focus = {
		id = SOV_annex_tannu_tuva
		icon = GFX_SOV_annex_tannu_tuva_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_war_measures_in_the_east }
		x = -1
		y = 1
		relative_position_id = SOV_war_measures_in_the_east
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		available = { 
			is_subject = no 
			TAN = {
				OR = {
					is_in_faction_with = ROOT
					is_subject_of = ROOT
				}
			}
		}
		
		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			TAN = {	
				country_event = { 
					id = soviet.14 
					hours = 6
				} 
			}
		}
	}

	focus = {
		id = SOV_fortify_mongolian_border
		icon = GFX_SOV_fortify_mongolian_border_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_war_measures_in_the_east }
		x = 1
		y = 1
		relative_position_id = SOV_war_measures_in_the_east
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		available = {
			MON = {
				is_in_faction_with = ROOT
				has_full_control_of_state = 330
				has_full_control_of_state = 819
				has_full_control_of_state = 817
				has_full_control_of_state = 818

			}
			is_subject = no
		}
		
		search_filters = {}

		completion_reward = {
			MON = { country_event = { id = NSB_soviet_foreign_politics_events.12 hours = 2 random_hours = 1 } }
			custom_effect_tooltip = if_they_accept
			custom_effect_tooltip = SOV_fortify_mongolian_border_forts_tt
		}
	}

	focus = {
		id = SOV_send_military_advisors_to_spain
		icon = GFX_focus_intervention_spain_republic
		prerequisite = { focus = SOV_the_comintern }
		x = -3
		y = 1
		relative_position_id = SOV_the_comintern
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		available = {
			has_civil_war = no
			OR = {
				has_completed_focus = SOV_the_centre
				has_completed_focus = SOV_the_left_opposition
				has_completed_focus = SOV_the_right_opposition
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPR_scw_in_progress = yes
				if = {
					limit = {
						NOT = { has_global_flag = spanish_civil_war }
					}
					custom_trigger_tooltip = {
					    tooltip = POR_spr_tooltip_country_exist_tt
					    country_exists = SPR
				    }
				    custom_trigger_tooltip = {
					    tooltip = POR_spr_tooltip_at_peace_tt
						NOT = { has_war_with = SPR }
				    }
				}
				else = {
					if = {
						limit = {
							has_completed_focus = SOV_covert_support_for_spanish_poum
						}
						country_exists = SPC
						NOT = { has_war_with = SPC }
					}
					else = {
						country_exists = SPD
						NOT = { has_war_with = SPD }
					}
				}
			}
			else = {
				any_other_country = {
					original_tag = SPR
					has_civil_war = yes
					NOT = { has_war_with = ROOT }
					OR = {
						has_government = democratic
						has_government = communism
					}
				}
			}
			has_government = communism
			is_subject = no
		}
		
		search_filters = {}

		completion_reward = {
			add_timed_idea = { idea = SOV_military_advisors_in_spain days = 1095 }
			
			if = {
				limit = {
					has_dlc = "La Resistance"
					has_completed_focus = SOV_covert_support_for_spanish_poum
					has_completed_focus = SOV_coup_detat
					has_global_flag = SPR_anarchist_uprising_flag
					country_exists = SPC
					SPC = { has_completed_focus = SPR_the_anti_fascist_workers_revolution }
				}
				SPC = {
					hidden_effect = { country_event = { id = NSB_soviet_foreign_politics_events.20 hours = 2 random_hours = 1 } }
					effect_tooltip = { add_timed_idea = {idea = SOV_soviet_advisors_spr days = 1095 } }
				}
			}
			else_if = {
				limit = {
					has_dlc = "La Resistance"
					country_exists = SPD
				}
				SPD = {
					hidden_effect = { country_event = { id = NSB_soviet_foreign_politics_events.20 hours = 2 random_hours = 1 } }
					effect_tooltip = { add_timed_idea = {idea = SOV_soviet_advisors_spr days = 1095 } }
				}
			}
			else_if = {
				limit = {
					has_dlc = "La Resistance"
					NOT = { country_exists = SPD }
				}
				custom_effect_tooltip = SOV_aid_republican_spain_tt
				effect_tooltip = { add_timed_idea = {idea = SOV_soviet_advisors_spr days = 1095 } }
			}
			else = {
				random_country = {
					limit = {
						original_tag = SPR
						has_civil_war = yes
						OR = {
							has_government = communism
							has_government = democratic
						}
					}
					hidden_effect = { country_event = { id = NSB_soviet_foreign_politics_events.20 hours = 2 random_hours = 1 } }
					effect_tooltip = { add_timed_idea = {idea = SOV_soviet_advisors_spr days = 1095 } }
				}
			}
			# A Spanish General will join the USSR if his side loses the SCW
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				custom_effect_tooltip = SOV_send_military_advisors_to_spain_generals_tt
				set_country_flag = SOV_spanish_refugee_generals_welcome_flag
			}
		}
	}

	focus = {
		id = SOV_policy_of_collective_security
		icon = GFX_SOV_policy_of_collective_security_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_the_comintern }
		x = -1
		y = 1
		relative_position_id = SOV_the_comintern
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		mutually_exclusive = { focus = SOV_policy_of_individual_security }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_political_power = 35
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_maksim_litvinov
		}
	}

	focus = {
		id = SOV_anti_fascist_policies
		icon = GFX_focus_generic_anti_fascist_diplomacy
		prerequisite = { focus = SOV_policy_of_collective_security }
		x = 0
		y = 1
		relative_position_id = SOV_policy_of_collective_security
		cost = 5
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
				
		search_filters = {FOCUS_FILTER_PROPAGANDA}

		completion_reward = {
			every_other_country = {
				limit = {
					is_major = yes
					OR = {
						has_government = democratic
						has_government = communism
					}
					NOT = { has_war_with = ROOT }
				}
				add_opinion_modifier = { target = SOV modifier = SOV_anti_fascist_policies_good } 
			}

			every_other_country = {
				limit = {
					is_major = yes
					has_government = fascism
				}
				add_opinion_modifier = { target = SOV modifier = SOV_anti_fascist_policies_bad } 
			}

			if = {
				limit = {
					has_government = communism
				}
				custom_effect_tooltip = unlock_propaganda_campaign_tt
				unlock_decision_tooltip = SOV_propaganda_anti_fascism
				custom_effect_tooltip = propaganda_campaign_requirement_tt
			}
		}
	}

	focus = {
		id = SOV_seek_a_defense_pact_with_the_allies
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = SOV_anti_fascist_policies }
		x = 0
		y = 1
		relative_position_id = SOV_anti_fascist_policies
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		bypass = {
			OR = {
				NOT = { country_exists = FRA }
				FRA = { has_capitulated = yes }
			}
			NOT = {
				any_other_country = {
					is_faction_leader = yes
					SOV_is_valid_collective_security_target = yes
				}
			}
		}

		available = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
			is_subject = no
		}
		
		search_filters = {}

		completion_reward = {
			if = { #FRA is default target
				limit = {
					country_exists = FRA
					FRA = {	SOV_is_valid_collective_security_target = yes }
				}
				set_variable = { SOV_collective_security_target = FRA }
				FRA = { country_event = { id = NSB_soviet_policies_of_collective_security.1 hours = 8 random_hours = 4 } }
			}
			else_if = { #ENG is first fallback target
				limit = {
					country_exists = ENG
					is_faction_leader = yes
					ENG = {	SOV_is_valid_collective_security_target = yes }
				}
				set_variable = { SOV_collective_security_target = FRA }
				ENG = { country_event = { id = NSB_soviet_policies_of_collective_security.1 hours = 8 random_hours = 4 } }
			}
			else_if = { #Non-Fascist European faction leader is next
				limit = {
					any_country = {
						is_faction_leader = yes
						capital_scope = { is_on_continent = europe }
						SOV_is_valid_collective_security_target = yes
					}
				}
				random_other_country = {
					limit = {
						is_faction_leader = yes
						capital_scope = { is_on_continent = europe }
						SOV_is_valid_collective_security_target = yes
					}
					ROOT = { set_variable = { SOV_collective_security_target = PREV } }
					country_event = { id = NSB_soviet_policies_of_collective_security.1 hours = 8 random_hours = 4 }
				}
			}
			else_if = { #Alright I don't really care anymore, pick whoever is left alive
				limit = {
					any_other_country = {
						is_faction_leader = yes
						SOV_is_valid_collective_security_target = yes
					}
				}
				random_other_country = {
					limit = {
						is_faction_leader = yes
						SOV_is_valid_collective_security_target = yes
					}
					ROOT = { set_variable = { SOV_collective_security_target = PREV } }
					country_event = { id = NSB_soviet_policies_of_collective_security.1 hours = 8 random_hours = 4 }
				}
			}

			custom_effect_tooltip = SOV_seek_a_defense_pact_with_the_allies_event_effects_tt

			if = {
				limit = {
					country_exists = POL
					POL = { SOV_is_valid_collective_security_target = yes }
					var:SOV_collective_security_target = {
						capital_scope = { is_on_continent = europe }
					}
				}
				custom_effect_tooltip = SOV_seek_a_defense_pact_with_the_allies_poland_tt
			}
		}
	}

	focus = {
		id = SOV_the_khakimov_proposal
		icon = GFX_focus_generic_befriend_saudi_arabia
		prerequisite = { focus = SOV_seek_a_defense_pact_with_the_allies }
		x = -1
		y = 1
		relative_position_id = SOV_seek_a_defense_pact_with_the_allies
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		available = {
			is_subject = no
			country_exists = SAU
			NOT = { has_war_with = SAU }
		}
		
		search_filters = {}

		completion_reward = {
			SAU = {
				add_ideas = SOV_ambassador_karim_khakimov #adds +35 communism acceptance and -50 for other ideologies
				add_opinion_modifier = { target = SOV modifier = SOV_cordial_relations_developed_by_soviet_diplomat } 
				hidden_effect = {
					country_event = { id = NSB_soviet_foreign_politics_events.211 hours = 8 random_hours = 4 }
				}
			}
			activate_targeted_decision = { target = SAU decision = SOV_pressure_country_government_middle_east }
			activate_targeted_decision = { target = SAU decision = SOV_promote_ideology_rallies_middle_east }
		}
	}

	focus = {
		id = SOV_eradicate_western_fascism
		icon = GFX_focus_generic_strike_at_democracy1
		prerequisite = { focus = SOV_seek_a_defense_pact_with_the_allies }
		x = 0
		y = 2
		relative_position_id = SOV_seek_a_defense_pact_with_the_allies
		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		available = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
			any_country = {
				OR = {
					tag = ENG
					tag = FRA
					tag = GER
					tag = ITA
				}
				has_government = fascism
				is_major = yes
			}
			is_subject = no
		}
		
		search_filters = {}

		completion_reward = {
			add_timed_idea = { 
				idea = SOV_face_western_fascism_ns 
				days = 365 
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
			if = {
				limit = {
					ENG = {
						has_government = fascism
					}
				}
				hidden_effect = { add_ideas = SOV_targeted_bonus_against_ENG }
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ENG
				}
			}
			if = {
				limit = {
					FRA = {
						has_government = fascism
					}
				}
				hidden_effect = { add_ideas = SOV_targeted_bonus_against_FRA }
				create_wargoal = {
					type = puppet_wargoal_focus
					target = FRA
				}
			}
			if = {
				limit = {
					GER = {
						has_government = fascism
					}
				}
				hidden_effect = { add_ideas = SOV_targeted_bonus_against_GER }
				create_wargoal = {
					type = puppet_wargoal_focus
					target = GER
				}
			}
			if = {
				limit = {
					ITA = {
						has_government = fascism
					}
				}
				hidden_effect = { add_ideas = SOV_targeted_bonus_against_ITA }
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ITA
				}
			}
		}
	}

	focus = {
		id = SOV_policy_of_individual_security
		icon = GFX_SOV_policy_of_individual_security_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_the_comintern }
		x = 1
		y = 1
		relative_position_id = SOV_the_comintern
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		mutually_exclusive = { focus = SOV_policy_of_collective_security }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_political_power = 35

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_vyacheslav_molotov
		}
	}

	focus = {
		id = SOV_approach_germany
		icon = GFX_goal_molotov_ribbentrop_pact
		prerequisite = { focus = SOV_policy_of_individual_security }
		prerequisite = { focus = SOV_anti_capitalist_policies }
		x = 0
		y = 2
		relative_position_id = SOV_policy_of_individual_security
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		available = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
			country_exists = GER
			GER = { SOV_is_valid_subject = yes }
			NOT = { has_war_with = GER }
			is_subject = no
		}

		bypass = {
			NOT = { country_exists = GER }
		}
		
		search_filters = {}

		completion_reward = {
			GER = { 
				country_event = { 
					id = NSB_soviet_soviet_german_trade_agreement.1 
					hours = 1 
				} 
			}

			custom_effect_tooltip = if_they_accept_tt #This will also make GER more likely to take Molotov-Ribbentrop pact and less to take Anti-Soviet Pact
			effect_tooltip = {
				if = {
					limit = {
						has_dlc = "Man the Guns"
					}
					if = {
						limit = {
							NOT = { has_tech = basic_ship_hull_cruiser }
						}
						set_technology = { basic_ship_hull_cruiser = 1 }
					}
					if = {
						limit = {
							NOT = { has_tech = basic_cruiser_armor_scheme }
						}
						set_technology = { basic_cruiser_armor_scheme = 1 }
					}
					if = {
						limit = {
							has_tech = basic_medium_battery
						}
						create_equipment_variant = {
							name = "Hipper Class"
							type = ship_hull_cruiser_2
							name_group = SOV_CA_HISTORICAL
							parent_version = 0
							modules = {
								fixed_ship_battery_slot = ship_medium_battery_2
								fixed_ship_anti_air_slot = ship_anti_air_1
								fixed_ship_fire_control_system_slot = ship_fire_control_system_0
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = cruiser_ship_engine_1
								fixed_ship_secondaries_slot = empty
								fixed_ship_armor_slot = ship_armor_cruiser_2
								front_1_custom_slot = ship_anti_air_1
								mid_1_custom_slot = ship_torpedo_1
								mid_2_custom_slot = ship_airplane_launcher_1
								rear_1_custom_slot = ship_medium_battery_2
							}
						}
					}
					else = {
						create_equipment_variant = {
							name = "Hipper Class"
							type = ship_hull_cruiser_2
							name_group = SOV_CA_HISTORICAL
							parent_version = 0
							modules = {
								fixed_ship_battery_slot = ship_medium_battery_1
								fixed_ship_anti_air_slot = ship_anti_air_1
								fixed_ship_fire_control_system_slot = ship_fire_control_system_0
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = cruiser_ship_engine_1
								fixed_ship_secondaries_slot = empty
								fixed_ship_armor_slot = ship_armor_cruiser_2
								front_1_custom_slot = ship_anti_air_1
								mid_1_custom_slot = ship_torpedo_1
								mid_2_custom_slot = ship_airplane_launcher_1
								rear_1_custom_slot = ship_medium_battery_1
							}
						}
					}
					
					# CA: Lützow -> Petropavlovsk
					add_equipment_production = {
						equipment = {
							type = ship_hull_cruiser_2
							creator = SOV
							version_name = "Hipper Class"
						}
						name = "Petropavlovsk"
						requested_factories = 1
						progress = 0.5
						amount = 1
					}

					if = { #Default name
						limit = {
							has_government = communism
						}
						add_tech_bonus = {
							name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name
							bonus = 0.5
							uses = 2
							category = ship_modules_tech
							category = bb_tech
							category = dd_tech
						}
					}
					else = { #Alt name
						add_tech_bonus = {
							name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name_alt
							bonus = 0.5
							uses = 2
							category = ship_modules_tech
							category = bb_tech
							category = dd_tech
						}
					}
				}
				else = { #No MTG
					if = {
						limit = {
							NOT = { has_tech = basic_heavy_cruiser }
						}
						set_technology = { basic_heavy_cruiser = 1 }
					}
					create_equipment_variant = {
						name = "Hipper Class"
						type = heavy_cruiser_2
						parent_version = 0
						upgrades = {
							ship_reliability_upgrade = 1
							ship_engine_upgrade = 1
							ship_armor_upgrade = 2
							ship_gun_upgrade = 2
						}
					}

					add_equipment_production = {
						equipment = {
							type = heavy_cruiser_2
							creator = SOV
						}
						requested_factories = 1
						progress = 0.5
						amount = 1
					}

					if = { #Default name
						limit = {
							has_government = communism
						}
						add_tech_bonus = {
							name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name
							bonus = 0.5
							uses = 2
							category = ca_tech
							category = bb_tech
							category = dd_tech
						}
					}
					else = { #Alt name
						add_tech_bonus = {
							name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name_alt
							bonus = 0.5
							uses = 2
							category = ca_tech
							category = bb_tech
							category = dd_tech
						}
					}
				}
				IF = {
					limit = {
						has_dlc = "No Step Back"
					}
					create_equipment_variant = {
						name = "A-20"
						type = medium_tank_chassis_1
						parent_version = 0
						allow_without_tech = no
						modules = {
							main_armament_slot = tank_small_cannon_2
							turret_type_slot = tank_medium_two_man_tank_turret
							suspension_type_slot = tank_christie_suspension
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_diesel_engine
							special_type_slot_1 = sloped_armor
						}
						upgrades = {
							tank_nsb_engine_upgrade = 8
							tank_nsb_armor_upgrade = 2
						}
						icon = "GFX_SOV_basic_medium_tank_medium"
					}
					create_equipment_variant = {
						name = "KV-1"
						type = heavy_tank_chassis_1
						parent_version = 0
						modules = {
							main_armament_slot = tank_medium_cannon
							turret_type_slot = tank_heavy_three_man_tank_turret
							suspension_type_slot = tank_torsion_bar_suspension
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_diesel_engine		
						}
						upgrades = {
							tank_nsb_engine_upgrade = 10
							tank_nsb_armor_upgrade = 9
						}
						icon = "GFX_SOV_improved_heavy_tank_medium"
					}
				}

				if = { #Default name
					limit = {
						has_government = communism
					}
					add_tech_bonus = {
						name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name
						bonus = 0.5
						uses = 2
						category = air_equipment
					}
				}
				else = { #Alt name
					add_tech_bonus = {
						name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name_alt
						bonus = 0.5
						uses = 2
						category = air_equipment
					}
				}

				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}	
					}
					prioritize = { 217 202 195 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}	
				}	

				custom_effect_tooltip = generic_skip_one_line_tt

				#Effects to Germans
				GER = {
					add_timed_idea = { idea = SOV_soviet_german_trade_agreement days = 800 } #Technically 1 year but really 18 months for Soviet payment 
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				add_opinion_modifier = {
					target = GER
					modifier = SOV_strengthened_relations_with_us
				}
				GER = {
					add_opinion_modifier = {
						target = ROOT
						modifier = SOV_strengthened_relations_with_us
					}
				}
			}
		}
	}

	focus = {
		id = SOV_liberation_of_the_european_proletariat
		icon = GFX_focus_spr_torchbearers_of_tomorrow
		prerequisite = { focus = SOV_approach_germany }
		x = 0
		y = 2
		relative_position_id = SOV_approach_germany
		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		available = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
			any_country = {
				OR = {
					tag = ENG
					tag = FRA
					tag = GER
					tag = ITA
				}
				has_government = democratic
				is_major = yes
				is_subject = no
			}
		}
		
		search_filters = {}

		completion_reward = {
			add_timed_idea = { 
				idea = SOV_liberation_of_the_european_proletariat_ns 
				days = 365 
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
			if = {
				limit = {
					ENG = {
						has_government = democratic
					}
				}
				hidden_effect = { add_ideas = SOV_targeted_bonus_against_ENG }
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ENG
				}
			}
			if = {
				limit = {
					FRA = {
						has_government = democratic
					}
				}
				hidden_effect = { add_ideas = SOV_targeted_bonus_against_FRA }
				create_wargoal = {
					type = puppet_wargoal_focus
					target = FRA
				}
			}
			if = {
				limit = {
					GER = {
						has_government = democratic
					}
				}
				hidden_effect = { add_ideas = SOV_targeted_bonus_against_GER }
				create_wargoal = {
					type = puppet_wargoal_focus
					target = GER
				}
			}
			if = {
				limit = {
					ITA = {
						has_government = democratic
					}
				}
				hidden_effect = { add_ideas = SOV_targeted_bonus_against_ITA }
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ITA
				}
			}

		}
	}



########  #######  ########  ######## ####  ######   ##    ##    ########   #######  ##       #### ######## ####  ######   ######  
##       ##     ## ##     ## ##        ##  ##    ##  ###   ##    ##     ## ##     ## ##        ##     ##     ##  ##    ## ##    ## 
##       ##     ## ##     ## ##        ##  ##        ####  ##    ##     ## ##     ## ##        ##     ##     ##  ##       ##       
######   ##     ## ########  ######    ##  ##   #### ## ## ##    ########  ##     ## ##        ##     ##     ##  ##        ######  
##       ##     ## ##   ##   ##        ##  ##    ##  ##  ####    ##        ##     ## ##        ##     ##     ##  ##             ## 
##       ##     ## ##    ##  ##        ##  ##    ##  ##   ###    ##        ##     ## ##        ##     ##     ##  ##    ## ##    ## 
##        #######  ##     ## ######## ####  ######   ##    ##    ##         #######  ######## ####    ##    ####  ######   ######  



	focus = {
		id = SOV_anti_capitalist_policies
		icon = GFX_focus_spr_class_war
		prerequisite = { focus = SOV_the_comintern }
		x = 2
		y = 1
		relative_position_id = SOV_policy_of_individual_security
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		available = {
			NOT = { has_government = democratic }
		}
		
		search_filters = {FOCUS_FILTER_PROPAGANDA}

		completion_reward = {
			every_other_country = {
				limit = {
					is_major = yes
					OR = {
						has_government = fascism
						has_government = communism
					}
					NOT = { has_war_with = ROOT }
				}
				add_opinion_modifier = { target = SOV modifier = SOV_anti_capitalist_policies_good } 
			}

			every_other_country = {
				limit = {
					is_major = yes
					has_government = democratic
				}
				add_opinion_modifier = { target = SOV modifier = SOV_anti_capitalist_policies_bad } 
			}

			if = {
				limit = {
					has_government = communism
				}
				custom_effect_tooltip = unlock_propaganda_campaign_tt
				unlock_decision_tooltip = SOV_propaganda_anti_capitalism
				custom_effect_tooltip = propaganda_campaign_requirement_tt
			}
		}
	}

	focus = {
		id = SOV_recover_alaska
		icon = GFX_focus_SOV_recover_alaska
		prerequisite = { focus = SOV_anti_capitalist_policies }
		x = 0
		y = 1
		relative_position_id = SOV_anti_capitalist_policies
		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		available = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
			is_subject = no
		}

		bypass = {
			463 = { is_owned_by = ROOT }
			650 = { is_owned_by = ROOT }
		}
		
		search_filters = {FOCUS_FILTER_ANNEXATION}

		completion_reward = {
			if = {
				limit = {
					463 = { NOT = { is_claimed_by = ROOT } }
				}
				add_state_claim = 463
			}
			if = {
				limit = {
					650 = { NOT = { is_claimed_by = ROOT } }
				}
				add_state_claim = 650
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			if = { #ONE CONTROLLER
				limit = {
					463 = {
						controller = {
							controls_state = 650
						}
					}
				}
				if = {
					limit = {
						463 = {
							controller = {
								NOT = { has_war_with = ROOT }
							}
						}
					}
					463 = {
						controller = {
							country_event = { id = NSB_soviet_foreign_politics_events.30 hours = 4 random_hours = 2 }
							custom_effect_tooltip = if_they_accept
							effect_tooltip = {
								ROOT = { transfer_state = 463 } #ALASKA
								ROOT = { transfer_state = 650 } #ATTU ISLAND
								add_opinion_modifier = {
									target = ROOT
									modifier = SOV_pressured_our_government
								}
							}
						}
					}
				}
			}
			else = { #TWO DIFFERENT CONTROLLERS
				if = {
					limit = {
						463 = {
							controller = {
								NOT = { has_war_with = ROOT }
							}
						}
					}
					463 = {
						controller = {
							country_event = { id = NSB_soviet_foreign_politics_events.30 hours = 4 random_hours = 2 }
							custom_effect_tooltip = if_they_accept
							effect_tooltip = {
								ROOT = { transfer_state = 463 } #ALASKA
								add_opinion_modifier = {
									target = ROOT
									modifier = SOV_pressured_our_government
								}
							}
						}
					}
				}
				if = {
					limit = {
						650 = {
							controller = {
								NOT = { has_war_with = ROOT }
							}
						}
					}
					650 = {
						controller = {
							country_event = { id = NSB_soviet_foreign_politics_events.30 hours = 4 random_hours = 2 }
							custom_effect_tooltip = if_they_accept
							effect_tooltip = {
								ROOT = { transfer_state = 650 } #ATTU ISLAND
								add_opinion_modifier = {
									target = ROOT
									modifier = SOV_pressured_our_government
								}
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = SOV_the_fight_for_the_pacific
		icon = GFX_SOV_the_fight_for_the_pacific_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_recover_alaska }
		x = 0
		y = 1
		relative_position_id = SOV_recover_alaska
		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		available = {
			OR = {
				has_full_control_of_state = 408
				has_full_control_of_state = 409
				has_full_control_of_state = 637
			}
			is_subject = no
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			#VLADIVOSTOK
			if = {
				limit = {
					408 = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
				}
				408 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			else_if = {
				limit = {
					408 = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
				}
				408 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}

			#KHABAROVSK
			if = {
				limit = {
					409 = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
				}
				409 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			else_if = {
				limit = {
					409 = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
				}
				409 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}

			#KAMCHATKA (PETROPAVLOVSK + COMMANDER ISLANDS)
			if = { #Dockyards
				limit = {
					637 = {
						is_controlled_by = ROOT #I know this is duplicated but tooltip is more readable this way
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
				}
				637 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			if = { #Naval bases
				limit = {
					637 = {
						is_controlled_by = ROOT
						naval_base < 9
					}
				}
				637 = {
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 4728
					}
					if = {
						limit = {
							ROOT = { is_special_project_completed = sp:sp_air_radar }
							radar_station < 1
						}
						add_building_construction = {
							type = radar_station
							level = 1
							instant_build = yes
						}
					}
					else = {
						custom_effect_tooltip = SOV_reinforce_western_naval_bases_radar_tt
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = SOV_the_fight_for_the_pacific
				bonus = 1.0
				uses = 2
				category = cv_tech
				category = bc_tech
				category = bb_tech
				category = shbb_tech
			}
		}
	}

	focus = {
		id = SOV_baltic_security
		icon = GFX_focus_SOV_baltic_security
		prerequisite = { focus = SOV_the_comintern }
		x = 3
		y = -1
		relative_position_id = SOV_anti_capitalist_policies
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		bypass = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
			NOT = {
				country_exists = EST
				country_exists = LAT
				country_exists = LIT
			}
		}

		available = {
			OR = {
				NOT = { has_country_flag = SOV_paranoia_system_active_flag }
			}
			is_subject = no
		}
		
		search_filters = {}

		completion_reward = {
			if = {
				limit = {
					country_exists = EST
				}
				EST = {
					if = {
						limit = { ROOT = { has_government = fascism } }
						add_timed_idea = { idea = fascist_influence days = 1095 }
					}
					if = {
						limit = { ROOT = { has_government = democratic } }
						add_timed_idea = { idea = democratic_influence days = 1095 }
					}
					if = {
						limit = { ROOT = { has_government = communism } }
						add_timed_idea = { idea = communist_influence days = 1095 }
					}
					hidden_effect = {
						country_event = { id = generic.1 }
					}
				}
			}
			if = {
				limit = {
					country_exists = LAT
				}
				LAT = {
					if = {
						limit = { ROOT = { has_government = fascism } }
						add_timed_idea = { idea = fascist_influence days = 1095 }
					}
					if = {
						limit = { ROOT = { has_government = democratic } }
						add_timed_idea = { idea = democratic_influence days = 1095 }
					}
					if = {
						limit = { ROOT = { has_government = communism } }
						add_timed_idea = { idea = communist_influence days = 1095 }
					}
					hidden_effect = {
						country_event = { id = generic.1 }
					}
				}
			}
			if = {
				limit = {
					country_exists = LIT
				}
				LIT = {
					if = {
						limit = { ROOT = { has_government = fascism } }
						add_timed_idea = { idea = fascist_influence days = 1095 }
					}
					if = {
						limit = { ROOT = { has_government = democratic } }
						add_timed_idea = { idea = democratic_influence days = 1095 }
					}
					if = {
						limit = { ROOT = { has_government = communism } }
						add_timed_idea = { idea = communist_influence days = 1095 }
					}
					hidden_effect = {
						country_event = { id = generic.1 }
					}
				}
			}
		}
	}

	focus = {
		id = SOV_respect_baltic_self_determination
		icon = GFX_SOV_respect_baltic_self_determination_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_baltic_security }
		x = -1
		y = 1
		relative_position_id = SOV_baltic_security
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		mutually_exclusive = { focus = SOV_claims_in_baltic }

		bypass = {
			NOT = {
				country_exists = EST
				country_exists = LAT
				country_exists = LIT
			}
		}

		available = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
			is_subject = no
		}
		
		search_filters = {}

		completion_reward = {
			activate_targeted_decision = { target = EST decision = SOV_promote_ideology_rallies_baltic }
			activate_targeted_decision = { target = LAT decision = SOV_promote_ideology_rallies_baltic }
			activate_targeted_decision = { target = LIT decision = SOV_promote_ideology_rallies_baltic }
			activate_targeted_decision = { target = EST decision = SOV_pressure_country_government_baltic }
			activate_targeted_decision = { target = LAT decision = SOV_pressure_country_government_baltic }
			activate_targeted_decision = { target = LIT decision = SOV_pressure_country_government_baltic }
		}
	}

	focus = {
		id = SOV_claims_in_baltic
		icon = GFX_SOV_claims_in_baltic_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_baltic_security }
		x = 1
		y = 1
		relative_position_id = SOV_baltic_security
		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_civil_war = yes
					date < 1939.1.1
				}
			}	
		}

		mutually_exclusive = { focus = SOV_respect_baltic_self_determination }

		available = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
			is_subject = no
		}

		bypass = {
			all_state = {
				OR = {
					is_core_of = EST
					is_core_of = LAT
					is_core_of = LIT
				}
				NOT = { state = 188 }
				is_controlled_by = ROOT
			}
		}
		
		search_filters = {FOCUS_FILTER_ANNEXATION}

		completion_reward = {
			# Estonia
			custom_effect_tooltip = SOV_estonian_claimed_states_tt
			hidden_effect = {
				EST = {
					every_owned_state = {
						limit = {
							is_core_of = PREV
						}
						ROOT = { add_state_claim = PREV }
					}
				}
			}
			# Latvia
			custom_effect_tooltip = SOV_latvian_claimed_states_tt
			hidden_effect = {
				LAT = {
					every_owned_state = {
						limit = {
							is_core_of = PREV
						}
						ROOT = { add_state_claim = PREV }
					}
				}
			}
			# Lithuania
			custom_effect_tooltip = SOV_lithuanian_claimed_states_tt
			hidden_effect = {
				LIT = {
					every_owned_state = {
						limit = {
							is_core_of = PREV
						}
						ROOT = { add_state_claim = PREV }
					}
				}
			}
			#Activate targeted decisions
			activate_targeted_decision = { target = EST decision = SOV_send_ultimatum_to_country_baltic }
			activate_targeted_decision = { target = LAT decision = SOV_send_ultimatum_to_country_baltic }
			activate_targeted_decision = { target = LIT decision = SOV_send_ultimatum_to_country_baltic }

			add_named_threat = { threat = 1 name = SOV_claims_in_baltic }
		}
	}

	focus = {
		id = SOV_secure_leningrad
		icon = GFX_focus_generic_attack_finland
		prerequisite = { focus = SOV_respect_baltic_self_determination focus = SOV_claims_in_baltic }
		x = 0
		y = 1
		relative_position_id = SOV_respect_baltic_self_determination
		cost = 10
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		dynamic = yes 

		available = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
			is_subject = no
		}

		will_lead_to_war_with = FIN
		bypass = {
			OR = {
				has_full_control_of_state = 146
				is_in_faction_with = FIN
				has_country_flag = FIN_finno_soviet_pact_flag
			}
		}
		
		search_filters = {FOCUS_FILTER_ANNEXATION}

		completion_reward = {
			add_state_claim = 146 # Karjala

			if= {
				limit = {
					146 = {
						controller = {
							NOT = { has_war_with = ROOT }
						}
					}
				}
				146 = {
					controller = {
						set_country_flag = SOV_ultimatum_sent_flag #Add it for AI strats reasons
						add_timed_idea = {
							idea = communist_pressure
							days = 365
						}
						country_event = { id = finland.1 hours = 16 random_hours = 8 }
					}
				}
				custom_effect_tooltip = if_they_accept_tt
				event_option_tooltip = soviet.12.a
			}
		}
	}

	focus = {
		id = SOV_control_scandinavia
		icon = GFX_SOV_control_scandinavia_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_secure_leningrad }
		x = 0
		y = 2
		relative_position_id = SOV_secure_leningrad
		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		available = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
			is_subject = no
		}
		
		search_filters = {}

		completion_reward = {
			#Sweden
			if = {
				limit = {
					country_exists = SWE
					SWE = {
						NOT = { is_in_faction_with = ROOT }
					}
				}
				SWE = {
					add_timed_idea = {
						idea = communist_pressure
						days = 365
					}
					hidden_effect = {
						country_event = { id = generic.1 }
					}             
				}
			}
			#Norway
			if = {
				limit = {
					country_exists = NOR
					NOR = {
						NOT = { is_in_faction_with = ROOT }
					}
				}
				NOR = {
					add_timed_idea = {
						idea = communist_pressure
						days = 365
					}
					hidden_effect = {
						country_event = { id = generic.1 }
					}           
				}
			}
			#Denmark
			if = {
				limit = {
					country_exists = DEN
					DEN = {
						NOT = { is_in_faction_with = ROOT }
					}
					
				}
				DEN = {
					add_timed_idea = {
						idea = communist_pressure
						days = 365
					} 
					hidden_effect = {
						country_event = { id = generic.1 }
					}            
				}
			}
			#Karelia
			if = {
				limit = {
					country_exists = KAR
				}
				hidden_effect = {
					country_event = { id = generic.1 }
				}
			}

			custom_effect_tooltip = SOV_control_scandinavia_decisions_tt
			hidden_effect = {
				activate_targeted_decision = { target = FIN decision = SOV_promote_ideology_rallies_nordic }
				activate_targeted_decision = { target = SWE decision = SOV_promote_ideology_rallies_nordic }
				activate_targeted_decision = { target = NOR decision = SOV_promote_ideology_rallies_nordic }
				activate_targeted_decision = { target = DEN decision = SOV_promote_ideology_rallies_nordic }
				activate_targeted_decision = { target = FIN decision = SOV_pressure_country_government_nordic }
				activate_targeted_decision = { target = SWE decision = SOV_pressure_country_government_nordic }
				activate_targeted_decision = { target = NOR decision = SOV_pressure_country_government_nordic }
				activate_targeted_decision = { target = DEN decision = SOV_pressure_country_government_nordic }
			}
		}
	}

	focus = {
		id = SOV_claims_on_poland
		icon = GFX_SOV_claims_on_poland_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_respect_baltic_self_determination focus = SOV_claims_in_baltic }
		x = 0
		y = 1
		relative_position_id = SOV_claims_in_baltic
		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1939.1.1
			}	
			modifier = {
				factor = 200
				GER = { has_government = democratic }
			}
		}

		available = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
			is_subject = no
		}

		bypass = {
			OR = {
				has_idea = SOV_molotov_ribbentrop_pact

				NOT = { country_exists = POL }

				has_non_aggression_pact_with = POL
				has_guaranteed = POL

				AND = {
					OR = { 
						owns_state = 91
						91 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 93
						93 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 94
						94 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 95
						95 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 96
						96 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 89
						89 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 784
						784 = { is_claimed_by = ROOT }
					}
				}
			}			
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			# REVISIT Covers Polish border, may want to add/remove some states
			add_state_claim = 96
			add_state_claim = 95
			add_state_claim = 94
			add_state_claim = 93
			add_state_claim = 91
			add_state_claim = 89
			add_state_claim = 784
			add_named_threat = { threat = 3 name = SOV_claims_on_poland }

			every_other_country = {
				limit = { 
					OR = {
						owns_state = 96
						owns_state = 95
						owns_state = 94
						owns_state = 93
						owns_state = 91
						owns_state = 89
						owns_state = 784
					}
				}
				add_opinion_modifier = { target = SOV modifier = claimed_eastern_poland }
			}
		}
	}

	focus = {
		id = SOV_demand_eastern_poland
		icon = GFX_SOV_demand_eastern_poland_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_claims_on_poland }
		x = -1
		y = 1
		relative_position_id = SOV_claims_on_poland
		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1939.1.1
			}

			modifier = {
				factor = 0.5
				ai_irrationality > 20
			}
			modifier = {
				factor = 0.5
				ai_irrationality > 25
			}
			modifier = {
				factor = 0.5
				ai_irrationality > 30
			}
			modifier = {
				factor = 0.1
				ai_irrationality > 35
			}
		}

		mutually_exclusive = { focus = SOV_offer_poland_protection }

		available = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
			is_subject = no
			NOT =  { is_in_faction_with = POL }
			NOT = { has_non_aggression_pact_with = POL }
			NOT = { has_guaranteed = POL }
			NOT = { has_war_with = POL }
			OR = {
				96 = { is_owned_and_controlled_by = POL }
				95 = { is_owned_and_controlled_by = POL }
				94 = { is_owned_and_controlled_by = POL }
				93 = { is_owned_and_controlled_by = POL }
				91 = { is_owned_and_controlled_by = POL }
				89 = { is_owned_and_controlled_by = POL }
				784 = { is_owned_and_controlled_by = POL }
			}
		}
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			POL = {
				country_event = { id = poland.2 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				SOV = {
					if = {
						limit = { POL = { owns_state = 96 controls_state = 96 } }
						transfer_state = 96
					}
					if = {
						limit = { POL = { owns_state = 95 controls_state = 95 } }
						transfer_state = 95
					}
					if = {
						limit = { POL = { owns_state = 94 controls_state = 94 } }
						transfer_state = 94
					}
					if = {
						limit = { POL = { owns_state = 93 controls_state = 93 } }
						transfer_state = 93
					}
					if = {
						limit = { POL = { owns_state = 91 controls_state = 91 } }
						transfer_state = 91
					}
					if = {
						limit = { POL = { owns_state = 89 controls_state = 89 } }
						transfer_state = 89
					}
					if = {
						limit = { POL = { owns_state = 784 controls_state = 784 } }
						transfer_state = 784
					}
				}
			}
		}
	}

	focus = {
		id = SOV_offer_poland_protection
		icon = GFX_focus_generic_polish_deal
		prerequisite = { focus = SOV_claims_on_poland }
		x = 1
		y = 1
		relative_position_id = SOV_claims_on_poland
		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1939.1.1
			}

			modifier = {
				factor = 0.5
				ai_irrationality < 24
			}
			modifier = {
				factor = 0.5
				ai_irrationality < 20
			}
			modifier = {
				factor = 0.5
				ai_irrationality < 15
			}
			modifier = {
				factor = 0.1
				ai_irrationality < 10
			}
		}

		available = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
			country_exists = POL
			NOT = { has_war_with = POL }
			POL = {
				SOV_is_valid_subject = yes
				has_capitulated = no
			}
			is_subject = no
		}

		mutually_exclusive = { focus = SOV_demand_eastern_poland }
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			POL = {
				country_event = { id = poland.5 }
				custom_effect_tooltip = needs_approval
				effect_tooltip = {
					add_state_claim = 5
					add_state_claim = 63
					add_state_claim = 68
					add_state_claim = 66
					add_state_claim = 67
					custom_effect_tooltip = SOV_offer_poland_protection_tt
					#This will also make Poland and Soviet be more more keen on cooperating
				}
			}
			effect_tooltip = {
				SOV = {
					if = {
						limit = { POL = { owns_state = 96 controls_state = 96 } }
						transfer_state = 96
					}
					if = {
						limit = { POL = { owns_state = 95 controls_state = 95 } }
						transfer_state = 95
					}
					if = {
						limit = { POL = { owns_state = 94 controls_state = 94 } }
						transfer_state = 94
					}
					if = {
						limit = { POL = { owns_state = 93 controls_state = 93 } }
						transfer_state = 93
					}
					if = {
						limit = { POL = { owns_state = 91 controls_state = 91 } }
						transfer_state = 91
					}
					if = {
						limit = { POL = { owns_state = 89 controls_state = 89 } }
						transfer_state = 89
					}
					if = {
						limit = { POL = { owns_state = 784 controls_state = 784 } }
						transfer_state = 784
					}
				}
			}
		}
	}

	focus = {
		id = SOV_claim_on_bessarabia
		icon = GFX_focus_generic_attack_romania
		prerequisite = { focus = SOV_claims_on_poland }
		x = 3
		y = 1
		relative_position_id = SOV_claims_on_poland
		cost = 10

		ai_will_do = {
			factor = 2.5
			modifier = {
				factor = 0
				OR = {
					date < 1939.1.1
					has_civil_war = yes
				}
			}	
			modifier = {
				factor = 200
				GER = { has_government = democratic }
			}
		}

		available = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
			is_subject = no
			any_country = {
				owns_state = 78
				controls_state = 78
			}
		}

		bypass = {
			OR = {
				AND = {
					OR = {
						owns_state = 78 #Bessarabia
						78 = {
							owner = { is_in_faction_with = ROOT }
						}
					}
					OR = {
						owns_state = 80 #Bucovina
						80 = {
							owner = { is_in_faction_with = ROOT }
						}
					}
					OR = {
						owns_state = 766 #Southern Bessarabia
						766 = {
							owner = { is_in_faction_with = ROOT }
						}
					}
				}
				any_country = {
					owns_state = 78
					owns_state = 80
					owns_state = 766
					has_war_with = ROOT
				}
			}
		}

		will_lead_to_war_with = ROM
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = { #This is now generic and will target any potential (multiple) controllers for these states.
			if = {
				limit = { 78 = { OWNER = { NOT = { is_in_faction_with = ROOT} } } }
				add_state_claim = 78
			}
			if = {
				limit = { 766 = { OWNER = { NOT = { is_in_faction_with = ROOT} } } }
				add_state_claim = 766
			}
			if = {
				limit = { 80 = { OWNER = { NOT = { is_in_faction_with = ROOT} } } }
				add_state_claim = 80
			}
			add_named_threat = { threat = 1 name = SOV_claim_on_bessarabia }
			random_other_country = {
				limit = { owns_state = 78 }
				add_opinion_modifier = { target = SOV modifier = claimed_bessarabia }
				set_country_flag = SOV_added_claimed_bessarabia
				country_event = { id = romania.1 hours = 16 random_hours = 8 }
			}
			if = { #Done like this to prevent disgusting tooltip issues, but I hate it ok?
				limit = {
					any_other_country = {
						owns_state = 78
						NOT = {	owns_state = 80 }
					}
				}
				random_other_country = {
					limit = { 
						owns_state = 80 
						NOT = { has_country_flag = SOV_added_claimed_bessarabia }
					}
					add_opinion_modifier = { target = SOV modifier = claimed_bucovina }
					country_event = { id = romania.1 hours = 16 random_hours = 8 }
				}
			}
			if = {
				limit = {
					AND = {
						any_other_country = {
							owns_state = 78
							NOT = {	owns_state = 766 }
						}
						any_other_country = {
							owns_state = 80
							NOT = {	owns_state = 766 }
						}
					}
				}
				random_other_country = {
					limit = { 
						owns_state = 766
						NOT = { has_country_flag = SOV_added_claimed_bessarabia }
					}
					add_opinion_modifier = { target = SOV modifier = claimed_bucovina }
					country_event = { id = romania.1 hours = 16 random_hours = 8 }
				}
			}
		}
	}

	focus = {
		id = SOV_demand_balkan_submission
		icon = GFX_SOV_demand_balkan_submission_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_claim_on_bessarabia }
		x = -1
		y = 1
		relative_position_id = SOV_claim_on_bessarabia
		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		mutually_exclusive = { focus = SOV_seek_balkan_cooperation }
		
		available = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
			any_other_country = {
				BUL_is_balkan_nation = yes
			}
			is_subject = no
		}
		
		search_filters = {}

		completion_reward = {
			every_other_country = {
				limit = {
					BUL_is_balkan_nation = yes
				}
				add_timed_idea = {
					idea = communist_pressure
					days = 365
				}
				hidden_effect = {
					country_event = { id = generic.1 }
				}
			}
			custom_effect_tooltip = SOV_demand_balkan_submission_decisions_tt
			hidden_effect = {
				activate_targeted_decision = { target = ROM decision = SOV_send_ultimatum_to_country_balkan }
				activate_targeted_decision = { target = BUL decision = SOV_send_ultimatum_to_country_balkan }
				activate_targeted_decision = { target = GRE decision = SOV_send_ultimatum_to_country_balkan }
				activate_targeted_decision = { target = YUG decision = SOV_send_ultimatum_to_country_balkan }
				activate_targeted_decision = { target = TUR decision = SOV_send_ultimatum_to_country_balkan }
			}
		}
	}

	focus = {
		id = SOV_seek_balkan_cooperation
		icon = GFX_focus_BUL_free_balkan_states
		prerequisite = { focus = SOV_claim_on_bessarabia }
		x = 1
		y = 1
		relative_position_id = SOV_claim_on_bessarabia
		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		mutually_exclusive = { focus = SOV_demand_balkan_submission }
		
		available = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
			any_other_country = {
				BUL_is_balkan_nation = yes
			}
			is_subject = no
		}
		
		search_filters = {}

		completion_reward = {
			every_other_country = {
				limit = {
					BUL_is_balkan_nation = yes
				}
				add_timed_idea = {
					idea = communist_pressure
					days = 365
				}
				hidden_effect = {
					country_event = { id = generic.1 }
				}
			}
			custom_effect_tooltip = SOV_seek_balkan_cooperation_decisions_tt
			hidden_effect = {
				activate_targeted_decision = { target = ROM decision = SOV_pressure_country_government_balkan }
				activate_targeted_decision = { target = BUL decision = SOV_pressure_country_government_balkan }
				activate_targeted_decision = { target = GRE decision = SOV_pressure_country_government_balkan }
				activate_targeted_decision = { target = YUG decision = SOV_pressure_country_government_balkan }
				activate_targeted_decision = { target = TUR decision = SOV_pressure_country_government_balkan }
				activate_targeted_decision = { target = ROM decision = SOV_promote_ideology_rallies_balkan }
				activate_targeted_decision = { target = BUL decision = SOV_promote_ideology_rallies_balkan }
				activate_targeted_decision = { target = GRE decision = SOV_promote_ideology_rallies_balkan }
				activate_targeted_decision = { target = YUG decision = SOV_promote_ideology_rallies_balkan }
				activate_targeted_decision = { target = TUR decision = SOV_promote_ideology_rallies_balkan }
			}
		}
	}

	focus = {
		id = SOV_middle_east_diplomacy
		icon = GFX_focus_TUR_treaty_of_saadabad
		prerequisite = { focus = SOV_the_comintern }
		x = 4
		y = 0
		relative_position_id = SOV_baltic_security
		cost = 5
		
ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
				
		bypass = {
			NOT = {
				country_exists = IRQ
				country_exists = PER
				country_exists = AFG
				country_exists = SAU
			}
		}

		available = {
			is_subject = no
		}
		
		search_filters = {}

		completion_reward = {
			if = {
				limit = {
					country_exists = IRQ
				}
				IRQ = {
					if = {
						limit = { ROOT = { has_government = fascism } }
						add_timed_idea = { idea = fascist_influence_weak days = 1095 }
					}
					if = {
						limit = { ROOT = { has_government = democratic } }
						add_timed_idea = { idea = democratic_influence_weak days = 1095 }
					}
					if = {
						limit = { ROOT = { has_government = communism } }
						add_timed_idea = { idea = communist_influence_weak days = 1095 }
					}
					hidden_effect = {
						country_event = { id = generic.1 }
					}
				}
			}
			if = {
				limit = {
					country_exists = PER
				}
				PER = {
					if = {
						limit = { ROOT = { has_government = fascism } }
						add_timed_idea = { idea = fascist_influence_weak days = 1095 }
					}
					if = {
						limit = { ROOT = { has_government = democratic } }
						add_timed_idea = { idea = democratic_influence_weak days = 1095 }
					}
					if = {
						limit = { ROOT = { has_government = communism } }
						add_timed_idea = { idea = communist_influence_weak days = 1095 }
					}
					hidden_effect = {
						country_event = { id = generic.1 }
					}
				}
			}
			if = {
				limit = {
					country_exists = AFG
				}
				AFG = {
					if = {
						limit = { ROOT = { has_government = fascism } }
						add_timed_idea = { idea = fascist_influence_weak days = 1095 }
					}
					if = {
						limit = { ROOT = { has_government = democratic } }
						add_timed_idea = { idea = democratic_influence_weak days = 1095 }
					}
					if = {
						limit = { ROOT = { has_government = communism } }
						add_timed_idea = { idea = communist_influence_weak days = 1095 }
					}
					hidden_effect = {
						country_event = { id = generic.1 }
					}
				}
			}
			if = {
				limit = {
					country_exists = SAU
				}
				SAU = {
					if = {
						limit = { ROOT = { has_government = fascism } }
						add_timed_idea = { idea = fascist_influence_weak days = 1095 }
					}
					if = {
						limit = { ROOT = { has_government = democratic } }
						add_timed_idea = { idea = democratic_influence_weak days = 1095 }
					}
					if = {
						limit = { ROOT = { has_government = communism } }
						add_timed_idea = { idea = communist_influence_weak days = 1095 }
					}
					hidden_effect = {
						country_event = { id = generic.1 }
					}
				}
			}
		}
	}

	focus = {
		id = SOV_the_southern_thrust
		icon = GFX_SOV_the_southern_thrust_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_middle_east_diplomacy }
		x = -1
		y = 1
		relative_position_id = SOV_middle_east_diplomacy
		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				has_war_with = GER
				factor = 0
			}
			modifier = {
				AND = {
					has_war_with = ENG
					surrender_progress > 0.3
				}
				factor = 0
			}
			modifier = {
				has_war_with = RAJ
				factor = 5
			}
		}

		bypass = {
			PER = {
				NOT = { owns_state = 419 }
				NOT = { owns_state = 420 }
				NOT = { owns_state = 266 }
				NOT = { owns_state = 416 }
			}
			IRQ = {
				NOT = { owns_state = 676 }
				NOT = { owns_state = 291 }
			}
			AFG = {
				NOT = { owns_state = 267 }
				NOT = { owns_state = 415 }
			}
		}

		available = {
			OR = {
				country_exists = IRQ
				country_exists = PER
				country_exists = AFG
				country_exists = SAU
			}
			is_subject = no
		}

		mutually_exclusive = { focus = SOV_support_afghan_ideology }
		
		will_lead_to_war_with = PER
		will_lead_to_war_with = IRQ
		will_lead_to_war_with = AFG
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			if = {
				limit = { 
					PER = {
						OR = {
							owns_state = 419
							owns_state = 420
							owns_state = 266
							owns_state = 416
						}
					} 
				}
				create_wargoal = {
					type = take_state_focus
					target = PER
					expire = 0
					generator = { 419 420 266 416}
				}
			}
			if = {
				limit = { 
					IRQ = {
						OR = {
							owns_state = 676
							owns_state = 291
						}
					} 
				}			
				create_wargoal = {
					type = take_state_focus
					target = IRQ
					expire = 0
					generator = { 676 291 }
				}
			}
			if = {
				limit = {
					AFG = {
						OR = {
							owns_state = 267
							owns_state = 415
						}
					} 
				}			
				create_wargoal = {
					type = take_state_focus
					target = AFG
					expire = 0
					generator = { 267 415 }
				}
			}
			ENG = {
				add_opinion_modifier = { target = SOV modifier = middle_east_expansionism }
			}
			FRA = {
				add_opinion_modifier = { target = SOV modifier = middle_east_expansionism }
			}
			USA = {
				add_opinion_modifier = { target = SOV modifier = middle_east_expansionism }
			}
		}
	}

	focus = {
		id = SOV_support_afghan_ideology
		icon = GFX_focus_generic_befriend_afghanistan
		prerequisite = { focus = SOV_middle_east_diplomacy }
		x = 1
		y = 1
		relative_position_id = SOV_middle_east_diplomacy
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		mutually_exclusive = { focus = SOV_the_southern_thrust }
		
		bypass = {
			NOT = { country_exists = AFG }
		}

		available = {
			NOT = { has_war_with = AFG }
			is_subject = no
		}
		
		search_filters = {}

		completion_reward = {
			activate_targeted_decision = { target = AFG decision = SOV_pressure_country_government_middle_east }
			activate_targeted_decision = { target = AFG decision = SOV_promote_ideology_rallies_middle_east }
		}
	}

	focus = {
		id = SOV_preemptive_invasion_of_iran
		icon = GFX_focus_generic_attack_iran
		prerequisite = { focus = SOV_support_afghan_ideology }
		x = 0
		y = 1
		relative_position_id = SOV_support_afghan_ideology
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
			modifier = {
				factor = 0
				PER = {
					has_government = ROOT
				}
			}	
		}
		will_lead_to_war_with = PER
		available = {
			country_exists = PER
			NOT = { has_war_with = PER }
			NOT = { is_in_faction_with = PER}
			is_subject = no
			any_enemy_country = { is_major = yes }
		}
		
		search_filters = {}

		completion_reward = {
			PER = {
				set_country_flag = SOV_ultimatum_sent_flag
				country_event = { id = NSB_soviet_foreign_politics_events.210 hours = 16 random_hours = 8 }
			}

			effect_tooltip = {
				custom_effect_tooltip = if_they_accept_tt
				ROOT = {
					puppet = PER
				}

				custom_effect_tooltip = if_they_refuse_tt
				effect_tooltip = {
					activate_mission = SOV_preparations_for_operation_countenance
					custom_effect_tooltip = SOV_preparations_for_operation_countenance_tt
				}
				custom_effect_tooltip = SOV_preemptive_invasion_of_iran_tt
			}
		}
	}

	focus = {
		id = SOV_the_threat_from_the_land_of_the_rising_sun
		icon = GFX_focus_attack_japan
		prerequisite = { focus = SOV_the_comintern }
		x = 5
		y = 0
		relative_position_id = SOV_middle_east_diplomacy
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		mutually_exclusive = { focus = SOV_reconcile_japan }

		available = {
			any_country = {
				SOV_is_free_chinese_tag = yes
				has_war_with = JAP
			}
			is_subject = no
		}
		
		search_filters = {}

		completion_reward = {
			JAP = { add_opinion_modifier = { target = SOV modifier = SOV_supported_china_bad } }
			every_other_country = {
				limit = {
					SOV_is_free_chinese_tag = yes
				}
				if = {
					limit = {
						ROOT = { has_government = communism }
					}
					add_ideas = SOV_support_in_china_communism
				}
				else_if = {
					limit = {
						ROOT = { has_government = democratic }
					}
					add_ideas = SOV_support_in_china_democratic
				}
				else_if = {
					limit = {
						ROOT = { has_government = fascism }
					}
					add_ideas = SOV_support_in_china_fascism
				}
				else_if = {
					limit = {
						ROOT = { has_government = neutrality }
					}
					add_ideas = SOV_support_in_china_neutrality
				}
				add_opinion_modifier = { target = SOV modifier = SOV_supported_china_good }
			}
		}
	}

	focus = {
		id = SOV_the_gobi_gambit
		icon = GFX_focus_generic_befriend_sinkiang
		prerequisite = { focus = SOV_the_threat_from_the_land_of_the_rising_sun }
		x = -2
		y = 1
		relative_position_id = SOV_the_threat_from_the_land_of_the_rising_sun
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		mutually_exclusive = { focus = SOV_two_red_flags focus = SOV_support_the_kuomintang }

		available = {
			#SOV controls the states in which railway lines will be built
			controls_state = 405 #TASHKENT
			controls_state = 404 #KYZYL ORDA
			controls_state = 732 #PAMIR
			controls_state = 586 #ALMA-ATA

			OR = {
				AND = { #Relevant states under Soviet control
					controls_state = 617 #URUMQI
					controls_state = 618 #DZUNGARIA
				}
				SIK = { #Relevant states under Sinkiang control
					NOT = { has_war_with = ROOT }
					controls_state = 617 #URUMQI
					controls_state = 618 #DZUNGARIA
				}
			}

			is_subject = no
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			hidden_effect = { #Decrease SIK's desire to join Chinese faction (and other AI strategies)
				SOV_approach_sinkiang_diplomacy_effect = yes
				SIK = {
					add_ai_strategy = { #This is added in Gobi Gambit + all 3 investment decisions
						type = alliance
						id = SOV		
						value = 4
					}
				}
			}
			if = { #If SOV controls the relevant states (for whatever weird reason -.-), then insta-build
				limit = {
					controls_state = 617 #URUMQI
					controls_state = 618 #DZUNGARIA
				}
				# Tashkent - Frunze - Alma-Ata - Urumqi
				build_railway = {
					path = { 1459 10148 10366 12397 12340 12640 7706 12583 4224 1591 10547 10619 12529 7866 1783 10674 4709 } #1840 12526 4770 4709
				}
				#Supply Hub in Alma-Ata
				586 = {
					add_building_construction = {
						type = supply_node
						level = 1
						province = 1591
						instant_build = yes
					}
				}
				custom_effect_tooltip = SOV_sinkiang_decisions_available_tt
			}
			else = { #If SIK in control of them
				SIK = { country_event = { id = NSB_soviet_foreign_politics_events.270 hours = 6 random_hours = 6 } }
				# IF THEY ACCEPT
				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					add_opinion_modifier = {
						target = SIK
						modifier = SOV_complied_with_our_demands
					}
					
					# Tashkent - Frunze - Alma-Ata - Urumqi
					build_railway = {
						path = { 1459 10148 10366 12397 12340 12640 7706 12583 4224 1591 10547 10619 12529 7866 1783 10674 4709 }
					}
					#Supply Hub in Alma-Ata
					586 = {
						add_building_construction = {
							type = supply_node
							level = 1
							province = 1591
							instant_build = yes
						}
					}
					custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sov
					custom_effect_tooltip = SOV_sinkiang_decisions_available_tt
				}
				# IF THEY REFUSE
				custom_effect_tooltip = if_they_refuse_tt
				effect_tooltip = {
					add_opinion_modifier = {
						target = SIK
						modifier = SOV_rejected_our_demands
					}
					# Tashkent - Frunze - Alma-Ata
					build_railway = {
						path = { 1459 10148 10366 12397 12340 12640 7706 12583 4224 1591 }
					}
					#Supply Hub in Alma-Ata
					586 = {
						add_building_construction = {
							type = supply_node
							level = 1
							province = 1591
							instant_build = yes
						}
					}
					custom_effect_tooltip = SOV_sinikiang_influence_refuse_tt
				}
			}
			custom_effect_tooltip = SOV_volunteers_allowed_sinkiang_tt
		}
	}

	focus = {
		id = SOV_two_red_flags
		icon = GFX_focus_chi_cooperation_with_the_communists
		prerequisite = { focus = SOV_the_threat_from_the_land_of_the_rising_sun }
		x = 2
		y = 0
		relative_position_id = SOV_the_gobi_gambit
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		mutually_exclusive = { focus = SOV_the_gobi_gambit focus = SOV_support_the_kuomintang }

		bypass = {
			OR = {
				NOT = { country_exists = PRC }
				owns_state = 622
			}
		}

		available = {
			has_government = communism
			NOT = { has_war_with = PRC }
			is_subject = no
		}
		
		search_filters = {}

		completion_reward = {
			PRC = {
				add_opinion_modifier = { #Good relations with Mao
					target = ROOT
					modifier = SOV_cooperating_with_us
				}
				add_relation_modifier = {
					target = ROOT
					modifier = SOV_soviet_chinese_relations
				}
				every_other_country = {
					limit = {
						SOV_is_free_chinese_tag = yes
					}
					add_opinion_modifier = { #Bad Relations with other Chinese tags
						target = ROOT
						modifier = SOV_cooperating_with_other
					}
				}
			}
			activate_targeted_decision = { target = PRC decision = SOV_send_infantry_equipment_asia }
			custom_effect_tooltip = SOV_volunteers_allowed_mao_tt
		}
	}

	focus = {
		id = SOV_support_the_kuomintang
		icon = GFX_focus_chi_cooperation_with_the_nationalists
		prerequisite = { focus = SOV_the_threat_from_the_land_of_the_rising_sun }
		x = 2
		y = 0
		relative_position_id = SOV_two_red_flags
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		mutually_exclusive = { focus = SOV_the_gobi_gambit focus = SOV_two_red_flags }

		bypass = {
			NOT = { country_exists = CHI }
		}

		available = {
			NOT = { has_completed_focus = SOV_the_left_opposition }
			NOT = { has_war_with = CHI }
			is_subject = no
		}
		
		search_filters = {}

		completion_reward = {
			CHI = {
				add_opinion_modifier = { #Good relations with Mao
					target = ROOT
					modifier = SOV_cooperating_with_us
				}
				add_relation_modifier = {
					target = ROOT
					modifier = SOV_soviet_chinese_relations
				}
				every_other_country = {
					limit = {
						SOV_is_free_chinese_tag = yes
					}
					add_opinion_modifier = { #Bad Relations with other Chinese tags
						target = ROOT
						modifier = SOV_cooperating_with_other
					}
				}
			}
			activate_targeted_decision = { target = CHI decision = SOV_send_infantry_equipment_asia }
			custom_effect_tooltip = SOV_volunteers_allowed_kuomintang_tt
		}
	}

	focus = {
		id = SOV_intervention_in_china
		icon = GFX_SOV_intervention_in_china_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_the_gobi_gambit focus = SOV_two_red_flags focus = SOV_support_the_kuomintang }
		x = 1
		y = 1
		relative_position_id = SOV_the_gobi_gambit
		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		available = {
			is_subject = no
		}
		
		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = SOV_intervention_in_china_wargoal_tt
			hidden_effect = {
				every_country = {
					limit = {
						SOV_is_chinese_tag = yes
						exists = yes
						NOT = { is_subject_of = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}
					if = {
						limit = {
							tag = SIK
							ROOT = { has_completed_focus = SOV_the_gobi_gambit }
						}
					}
					else_if = {
						limit = {
							tag = PRC
							ROOT = { has_completed_focus = SOV_two_red_flags }
						}
					}
					else_if = {
						limit = {
							tag = CHI
							ROOT = { has_completed_focus = SOV_support_the_kuomintang }
						}
					}
					else = {
						ROOT = {
							create_wargoal = {
								type = puppet_wargoal_focus
								target = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					has_completed_focus = SOV_the_gobi_gambit
					country_exists = SIK
				}
				every_state = { #Set cores for SIK
					limit = {
						is_core_of = CHI
					}
					add_core_of = SIK
				}
			}
		}
	}

	focus = {
		id = SOV_prepare_a_war_with_japan
		icon = GFX_focus_AST_war_japan
		prerequisite = { focus = SOV_the_gobi_gambit focus = SOV_two_red_flags focus = SOV_support_the_kuomintang }
		x = 1
		y = 1
		relative_position_id = SOV_two_red_flags
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		bypass = {
			has_war_with = JAP
		}

		available = {
			surrender_progress < 0.01
			country_exists = JAP
			NOT = {
				JAP = { is_in_faction_with = ROOT } 
			}
			is_subject = no
		}
		
		search_filters = {}

		completion_reward = {
			add_timed_idea = {
				idea = SOV_preparations_for_soviet_japanese_war
				days = 365
			}
			every_country = {
				limit = {
					is_in_faction_with = ROOT
					SOV_is_chinese_tag = yes
					is_in_faction_with = ROOT
				}
				hidden_effect = {
					country_event = NSB_soviet_foreign_politics_events.251
				}
				effect_tooltip = {
					add_timed_idea = {
						idea = SOV_preparations_for_soviet_japanese_war_china
						days = 365
					}
				}
			}
		}
	}

	focus = {
		id = SOV_end_the_khalkhin_gol_conflict
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = SOV_prepare_a_war_with_japan }
		x = -1
		y = 1
		relative_position_id = SOV_prepare_a_war_with_japan
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		mutually_exclusive = { focus = SOV_recover_the_kuril_islands }

		available = {
			surrender_progress < 0.01
			country_exists = JAP
			NOT = { is_in_faction_with = JAP }
			NOT = { has_war_together_with = JAP }
			761 = { #Hulunbuir
				controller = {
					NOT = { is_in_faction_with = ROOT }
				}
			}
			is_subject = no
		}
		
		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = SOV_end_the_khalkhin_gol_conflict_wargoal_tt
			hidden_effect = {
				every_country = {
					limit = {
						OR = {
							tag = JAP
							AND = {
								SOV_is_chinese_tag = yes
								is_in_faction_with = JAP
							}
						}
					}
					ROOT = {
						create_wargoal = {
							type = puppet_wargoal_focus
							target = PREV
						}
					}
				}
			}

			add_state_claim = 761 #Hulunbuir

			custom_effect_tooltip = generic_skip_one_line_tt
			
			if = {
				limit = {
					has_idea = SOV_preparations_for_soviet_japanese_war
				}
				remove_ideas = SOV_preparations_for_soviet_japanese_war
				every_country = {
					limit = {
						is_in_faction_with = ROOT
						has_idea = SOV_preparations_for_soviet_japanese_war_china
					}
					remove_ideas = SOV_preparations_for_soviet_japanese_war_china
				}
			}
			add_timed_idea = {
				idea = SOV_soviet_japanese_reckoning
				days = 180
			}
			every_country = {
				limit = {
					is_in_faction_with = ROOT
					OR = {
						SOV_is_chinese_tag = yes
						capital_scope = {
							is_on_continent = asia
						}
					}
					
				}
				hidden_effect = {
					country_event = NSB_soviet_foreign_politics_events.252
				}
				effect_tooltip = {
					add_timed_idea = {
						idea = SOV_soviet_japanese_reckoning_china
						days = 180
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					is_in_faction_with = MON
					612 = {
						controller = {
							NOT = { is_in_faction_with = ROOT }
						}
					}
				}
				MON = {
					add_state_claim = 612 #Chahar
					add_state_claim = 611 #South Chahar
				}
			}
		}
	}

	focus = {
		id = SOV_recover_the_kuril_islands
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = SOV_prepare_a_war_with_japan }
		x = 1
		y = 1
		relative_position_id = SOV_prepare_a_war_with_japan
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		mutually_exclusive = { focus = SOV_end_the_khalkhin_gol_conflict }

		available = {
			surrender_progress < 0.01
			country_exists = JAP
			NOT = {
				JAP = { is_in_faction_with = ROOT } 
			}
			JAP = { controls_state = 555 }
			NOT = { has_war_with = JAP }
			is_subject = no
		}
		
		search_filters = {}

		completion_reward = {
			create_wargoal = {
				type = take_state_focus
				target = JAP
				expire = 0
				generator = { 537 555 }
			}

			if = {
				limit = {
					has_idea = SOV_preparations_for_soviet_japanese_war
				}
				remove_ideas = SOV_preparations_for_soviet_japanese_war
				every_country = {
					limit = {
						is_in_faction_with = ROOT
						has_idea = SOV_preparations_for_soviet_japanese_war_china
					}
					remove_ideas = SOV_preparations_for_soviet_japanese_war_china
				}
			}
			add_timed_idea = {
				idea = SOV_soviet_japanese_reckoning
				days = 180
			}
			every_country = {
				limit = {
					is_in_faction_with = ROOT
					SOV_is_chinese_tag = yes
					is_in_faction_with = ROOT
				}
				hidden_effect = {
					country_event = NSB_soviet_foreign_politics_events.252
				}
				effect_tooltip = {
					add_timed_idea = {
						idea = SOV_soviet_japanese_reckoning_china
						days = 180
					}
				}
			}

			custom_effect_tooltip = SOV_recover_the_kuril_islands_decisions_tt
		}
	}

	focus = {
		id = SOV_reconcile_japan
		icon = GFX_focus_chi_collaboration_with_the_japanese
		prerequisite = { focus = SOV_the_comintern }
		x = 3
		y = 0
		relative_position_id = SOV_the_threat_from_the_land_of_the_rising_sun
		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		mutually_exclusive = { focus = SOV_the_threat_from_the_land_of_the_rising_sun }

		bypass = {
			OR = {
				NOT = { country_exists = JAP }
				
				655 = {
					is_owned_and_controlled_by = JAP
				}

				AND = {
					JAP = {
						has_government = ROOT
					}
					537 = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
		}

		available = {			
			NOT = { has_war_with = JAP }
			is_subject = no
			655 = {
				is_owned_and_controlled_by = ROOT
			}
			537 = {
				is_owned_and_controlled_by = JAP
			}
		}
		
		search_filters = {}
		completion_reward = {
			JAP = {
				country_event = { id = NSB_soviet_foreign_politics_events.262 hours = 12 random_hours = 6 }
				custom_effect_tooltip = if_they_accept
				effect_tooltip = {
					add_opinion_modifier = { target = SOV modifier = border_conflict_reconciled }
					transfer_state = 655
					diplomatic_relation = {
						country = SOV
						relation = non_aggression_pact
						active = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_spheres_of_influence_in_china
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = SOV_reconcile_japan }
		x = 1
		y = 1
		relative_position_id = SOV_reconcile_japan
		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		available = {
			is_subject = no
		}
		
		search_filters = {FOCUS_FILTER_ANNEXATION}

		completion_reward = {
			if = {
				limit = {
					SIK = { NOT = { has_government = ROOT } }
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = SIK
				} 
			}
			else = {
				SIK = { country_event = { id = NSB_soviet_foreign_politics_events.200 hours = 6 random_hours = 2 } }
			}
		}
	}

	focus = {
		id = SOV_soviet_japanese_pact_against_usa_focus
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = SOV_reconcile_japan }
		x = 0
		y = 4
		relative_position_id = SOV_reconcile_japan
		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}
		
		available = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
			country_exists = JAP
			NOT = { has_war_with = JAP }
			is_subject = no
			JAP = {
				SOV_is_valid_subject = yes
			}
		}
		
		search_filters = {}

		completion_reward = {
			#Event
			JAP = { country_event = { id = NSB_soviet_foreign_politics_events.263 hours = 8 random_hours = 4 } }

			#Potential effects
			custom_effect_tooltip = if_they_accept
			effect_tooltip = {
				#War
				if = {
					limit = {
						JAP = {	has_war_with = USA }
						NOT = { SOV = { has_war_with = USA } }
					}
					SOV = { add_to_war = { targeted_alliance = JAP enemy = USA hostility_reason = asked_to_join } }
				}
				else_if = {
					limit = {
						SOV = { has_war_with = USA }
						NOT = { JAP = {	has_war_with = USA } }
					}
					JAP = { add_to_war = { targeted_alliance = SOV enemy = USA hostility_reason = asked_to_join } }
				}
				else_if = {
					limit = {
						NOT = { SOV = { has_war_with = USA } }
						NOT = { JAP = {	has_war_with = USA } }
					}
					SOV = {
						declare_war_on = {
							target = USA
							type = annex_everything
						}
					}
					JAP = { add_to_war = { targeted_alliance = SOV enemy = USA hostility_reason = asked_to_join } }
				}

				#Diplo stuff
				JAP = {
					if = {
						limit = {
							NOT = {
								has_non_aggression_pact_with = SOV
							}
						}
						diplomatic_relation = {
							country = SOV
							relation = non_aggression_pact
							active = yes
						}
					}
				}

				#Claims
				463 = { add_claim_by = SOV } #Alaska
				650 = { add_claim_by = SOV } #Atu Island
				632 = { add_claim_by = JAP } #Wake Island
				631 = { add_claim_by = JAP } #Midway Island
				629 = { add_claim_by = JAP } #Hawaii
				630 = { add_claim_by = JAP } #Johnston Atoll
				727 = { add_claim_by = JAP } #Line Islands
				642 = { add_claim_by = JAP } #Phoenix Island
				638 = { add_claim_by = JAP } #Guam

				#Relations stuff
				JAP = {
					add_opinion_modifier = { target = SOV modifier = SOV_soviet_japanese_pact_against_usa }
				}

				#Targeted NS
				SOV = {
					add_timed_idea = { idea = SOV_soviet_japanese_anti_usa_pact days = 365 }
				}
				JAP = {
					add_timed_idea = { idea = SOV_soviet_japanese_anti_usa_pact days = 365 }
				}
			}
		}
	}
	focus = {
		id = SOV_purge_disloyalty
		icon = GFX_purge_disloyalty
		available = {

		}
		prerequisite = {
			focus = SOV_eradicate_western_fascism
			focus = SOV_liberation_of_the_european_proletariat
			focus = SOV_fortify_mongolian_border
			focus = SOV_annex_tannu_tuva
			focus = SOV_the_fight_for_the_pacific
			focus = SOV_demand_balkan_submission
			focus = SOV_seek_balkan_cooperation
			focus = SOV_soviet_japanese_pact_against_usa_focus
			focus = SOV_end_the_khalkhin_gol_conflict
			focus = SOV_recover_the_kuril_islands
		}
		cost = 5
		relative_position_id = SOV_control_scandinavia
		x = 0
		y = 1
		completion_reward = {

		}
	}
	focus = {
		id = SOV_power_struggle_aftermath
		icon = GFX_power_struggle_aftermath
		available = {

		}
		prerequisite = {
			focus = SOV_purge_disloyalty
		}
		cost = 5
		relative_position_id = SOV_purge_disloyalty
		x = 1
		y = 1
completion_reward = {
country_event = {
	id = pvd.222
	hours = 12
}
}
	}
	focus = {
		id = SOV_doctrine_mind
		icon = GFX_doctrine_mind
		available = {

		}
		prerequisite = {
			focus = SOV_purge_disloyalty
		}
		cost = 5
		relative_position_id = SOV_purge_disloyalty
		x = -1
		y = 1
		completion_reward = {
add_stability = 0.05
add_popularity = {
ideology = communism
popularity = 0.1
}
		}
	}
	focus = {
		id = SOV_dealing_Klara
		icon = GFX_dealing_klara
		available = {

		}
		prerequisite = {
			focus = SOV_doctrine_mind
		}
		cost = 5
		relative_position_id = SOV_doctrine_mind
		x = 1
		y = 1
		completion_reward = {
add_war_support = 0.05
		}
	}
	focus = {
		id = SOV_isolate_nonna
		icon = GFX_goal_generic_war_with_comintern
		available = {

		}
		prerequisite = {
			focus = SOV_doctrine_mind
		}
		cost = 5
		relative_position_id = SOV_doctrine_mind
		x = -1
		y = 1
		completion_reward = {
  add_stability = 0.05
#add Nonna trait
		}
	}
	##isolate nonna focus was hidden behind dealing #klara, fixed it, caution with that to whoever #did this##
	
	focus = {
		id = SOV_pawns_on_board
		icon = GFX_pawns_on_board
		available = {

		}
		prerequisite = {
			focus = SOV_isolate_nonna
		}
		prerequisite = {
			focus = SOV_dealing_Klara
		}
		cost = 5
		relative_position_id = SOV_purge_disloyalty
		x = -1
		y = 3
		completion_reward = {
add_political_power = 200
		}
	}
	focus = {
		id = SOV_firm_hand
		icon = GFX_firm_hand
		available = {

		}
		prerequisite = {
			focus = SOV_pawns_on_board
		}
		cost = 5
		relative_position_id = SOV_pawns_on_board
		x = 0
		y = 1
		completion_reward = {
			add_stability = 0.1
			add_war_support = 0.1
			add_popularity = {
			ideology = communism
			popularity = 0.1
		}
		#add_idea = SOV_Firm_Hand
		}
	}
	focus = {
		id = SOV_katyusha_cult
		icon = GFX_katyusha_cult
		available = {

		}
		prerequisite = {
			focus = SOV_firm_hand
		}
		cost = 5
		relative_position_id = SOV_firm_hand
		x = 0
		y = 1
		completion_reward = {
			add_trait = {
				character = SOV_iosif_stalin
				ideology = stalinism
				trait = dictatorship_of_mind
			}
		}
	}
	
	
	
	
	focus = {
		id = SOV_addressing_internal_affairs
		icon = GFX_focus_generic_self_management
		prerequisite = { focus = SOV_the_path_of_marxism_leninism }
		x = -5
		y = 0
		offset = {
			x = -7
			y = 0
			trigger = { #Basic offset to compensate for missing Bukharinist branch
				NOT = { has_dlc = "No Step Back" }
			}
		}
		offset = {
			x = -19
			y = 0
			trigger = { #Trotskyist branch hides
				NOT = { has_dlc = "No Step Back" }
				has_completed_focus = SOV_the_centre 
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
			}
		}
		offset = {
			x = -7
			y = 0
			trigger = { # Stalinist branch hides
				NOT = { has_dlc = "No Step Back" }
				AND = {
					has_completed_focus = SOV_left_opposition_coup
					has_completed_focus = SOV_the_left_opposition
				}
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
			}
		}
		offset = {
			x = -26
			y = 0
			trigger = {
				has_dlc = "No Step Back"
				has_completed_focus = SOV_the_centre
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
			}
		}
		offset = {
			x = -7
			y = 0
			trigger = {
				has_dlc = "No Step Back"
				OR = {
					AND = {
						has_completed_focus = SOV_the_left_opposition
						has_completed_focus = SOV_left_opposition_coup
					}
					AND = {
						has_completed_focus = SOV_the_right_opposition
						has_completed_focus = SOV_coup_detat
					}
				}
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
			}
		}

		relative_position_id = SOV_the_path_of_marxism_leninism
		cost = 5

		allow_branch = {
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = SOV_beaten_but_not_defeated }
			}
		}

		available = {
			has_completed_focus = SOV_power_to_the_workers
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}

		completion_reward = {
			add_political_power = 50
			add_stability = 0.1
		}
	}

	focus = {
		id = SOV_nkvd_primacy
		icon = GFX_SOV_nkvd_primacy_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_addressing_internal_affairs }
		x = -2
		y = 1
		relative_position_id = SOV_addressing_internal_affairs
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		completion_reward = {
			add_ideas = SOV_nkvd_nsb
			SOV_paranoia_medium_increase_effect = yes
		}
	}

	focus = {
		id = SOV_the_new_soviet_woman
		icon = GFX_SOV_the_new_soviet_woman_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_addressing_internal_affairs }
		x = 2
		y = 1
		relative_position_id = SOV_addressing_internal_affairs
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}

		completion_reward = {
			add_political_power = 70
			add_stability = 0.1
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
		}
	}

	focus = {
		id = SOV_expand_the_agitprop
		icon = GFX_SOV_expand_the_agitprop_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_addressing_internal_affairs }
		x = 0
		y = 1
		relative_position_id = SOV_addressing_internal_affairs
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_PROPAGANDA}

		completion_reward = {
			add_political_power = 25
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}

			hidden_effect = {
				SOV_unlock_propaganda_campaign_slot_effect = yes
			}
			unlock_decision_category_tooltip = SOV_propaganda_campaigns
		}
	}

	focus = {
		id = SOV_positive_heroism
		icon = GFX_SOV_positive_heroism_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_expand_the_agitprop }
		x = -2
		y = 1
		relative_position_id = SOV_expand_the_agitprop
		cost = 10

		mutually_exclusive = { focus = SOV_collectivist_propaganda }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_PROPAGANDA}

		completion_reward = {
			add_political_power = 25
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = konstantin_rokossovsky 
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = georgy_zhukov

			custom_effect_tooltip = unlock_propaganda_campaign_tt
			unlock_decision_tooltip = SOV_propaganda_heroes_forward
			custom_effect_tooltip = unlock_propaganda_campaign_slot_tt
			SOV_unlock_propaganda_campaign_slot_effect = yes
		}
	}

	focus = {
		id = SOV_revive_the_stakhanovite_movement
		icon = GFX_SOV_revive_the_stakhanovite_movement_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_positive_heroism }
		x = 0
		y = 1
		relative_position_id = SOV_positive_heroism
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_ideas = SOV_stakhanovite_movement
		}
	}

	focus = {
		id = SOV_war_heroes
		icon = GFX_SOV_war_heroes_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_revive_the_stakhanovite_movement }
		x = 0
		y = 1
		relative_position_id = SOV_revive_the_stakhanovite_movement
		cost = 10

		available = {

		}
		
		search_filters = {}

		completion_reward = {
			add_ideas = SOV_war_heroes_ns

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					SOV_georgy_zhukov = {
						NOT = { has_character_flag = SOV_character_purged_flag }
						is_corps_commander = yes
					}
				}
				SOV_georgy_zhukov = {
					promote_leader = yes
				}
			}
			else = {
				random_army_leader = {
					limit = {
						NOT = { has_character_flag = SOV_potential_target_flag }
						is_corps_commander = yes
						NOT = { is_character = SOV_konstantin_rokossovsky }
						NOT = { is_character = SOV_ivan_konev }
					}
					promote_leader = yes
				}
			}
			if = {
				limit = {
					SOV_konstantin_rokossovsky = {
						NOT = { has_character_flag = SOV_character_purged_flag }
						is_corps_commander = yes
					}
				}
				SOV_konstantin_rokossovsky = {
					promote_leader = yes
				}
			}
			else = {
				random_army_leader = {
					limit = {
						NOT = { has_character_flag = SOV_potential_target_flag }
						is_corps_commander = yes
						NOT = { is_character = SOV_georgy_zhukov }
						NOT = { is_character = SOV_ivan_konev }
					}
					promote_leader = yes
				}
			}
			if = {
				limit = {
					SOV_ivan_konev = {
						NOT = { has_character_flag = SOV_character_purged_flag }
						is_corps_commander = yes
					}
				}
				SOV_ivan_konev = {
					promote_leader = yes
				}
			}
			else = {
				random_army_leader = {
					limit = {
						NOT = { has_character_flag = SOV_potential_target_flag }
						is_corps_commander = yes
						NOT = { is_character = SOV_georgy_zhukov }
						NOT = { is_character = SOV_konstantin_rokossovsky }
					}
					promote_leader = yes
				}
			}
		}
	}

	focus = {
		id = SOV_collectivist_propaganda
		icon = GFX_SOV_collectivist_propaganda_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_expand_the_agitprop }
		x = 0
		y = 1
		relative_position_id = SOV_expand_the_agitprop
		cost = 10

		mutually_exclusive = { focus = SOV_positive_heroism }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_PROPAGANDA}

		completion_reward = {
			add_political_power = 25
			add_ideas = SOV_collectivist_propaganda_ns

			custom_effect_tooltip = unlock_propaganda_campaign_tt
			unlock_decision_tooltip = SOV_propaganda_for_the_motherland
			custom_effect_tooltip = unlock_propaganda_campaign_slot_tt
			SOV_unlock_propaganda_campaign_slot_effect = yes
		}
	}

	focus = {
		id = SOV_socialist_emulation
		icon = GFX_SOV_socialist_emulation_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_collectivist_propaganda }
		x = 0
		y = 1
		relative_position_id = SOV_collectivist_propaganda
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_ideas = SOV_socialist_emulation_1_ns
		}
	}

	focus = {
		id = SOV_socialist_realism
		icon = GFX_SOV_socialist_realism_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_socialist_emulation }
		x = 0
		y = 1
		relative_position_id = SOV_socialist_emulation
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL}

		completion_reward = {
			swap_ideas = {
				remove_idea = SOV_socialist_emulation_1_ns
				add_idea = SOV_socialist_emulation_2_ns
			}
		}
	}

	focus = {
		id = SOV_the_komsomol
		icon = GFX_SOV_the_komsomol_ccp_2d_sov_compatibility
		prerequisite = { focus = SOV_expand_the_agitprop }
		x = 2
		y = 1
		relative_position_id = SOV_expand_the_agitprop
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_PROPAGANDA}

		completion_reward = {
			add_political_power = 50
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}

			custom_effect_tooltip = unlock_propaganda_campaign_tt
			unlock_decision_tooltip = SOV_propaganda_knowledge
			unlock_decision_tooltip = SOV_propaganda_builders_of_communism
			unlock_decision_tooltip = SOV_propaganda_sweep_scum_out
			custom_effect_tooltip = unlock_propaganda_campaign_slot_tt
			SOV_unlock_propaganda_campaign_slot_effect = yes
		}
	}
}
